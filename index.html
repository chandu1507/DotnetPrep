<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.NET Full Stack Interview Prep</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>.NET Full Stack Interview Preparation</h1>
            <p>Senior Software Engineer Interview Guide</p>
        </div>
    </header>

    <nav class="main-nav">
        <div class="container">
            <ul>
                <li><a href="#oop-concepts">OOP Concepts</a></li>
                <li><a href="#dotnet-fundamentals">.NET Fundamentals</a></li>
                <li><a href="#aspnet-webapi">ASP.NET Web API</a></li>
                <li><a href="#entity-framework">Entity Framework</a></li>
                <li><a href="#authentication-authorization">Auth & Security</a></li>
                <li><a href="#windows-services">Background Services</a></li>
                <li><a href="#database-sql">Database & SQL</a></li>
                <li><a href="#enterprise-architecture">Enterprise Architecture</a></li>
                <li><a href="#cloud-azure">Cloud & Azure</a></li>
                <li><a href="#memory-management">Memory Management</a></li>
                <li><a href="#advanced-concepts">Advanced Concepts</a></li>
                <li><a href="#unit-testing-mocking">Unit Testing & Mocking</a></li>
                <li><a href="#best-practices">Best Practices</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="oop-concepts" class="topic-section">
            <h2>Core OOP Concepts</h2>
            
            <div class="concept-card">
                <h3>Classes and Objects</h3>
                <div class="concept-content">
                    <p><strong>Class:</strong> A blueprint for creating objects. Think of it as a template in enterprise systems.</p>
                    <p><strong>Object:</strong> An instance of a class with actual data.</p>
                    <div class="example">
                        <h4>Enterprise Example:</h4>
                        <p>In an HRMS system, <code>Employee</code> is a class defining properties like Name, EmployeeID, and methods like CalculateSalary(). Each actual employee record is an object of this class.</p>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>The Four Pillars of OOP</h3>
                
                <div class="pillar">
                    <h4>1. Encapsulation</h4>
                    <p>Bundling data and methods together while restricting access to internal components.</p>
                    <div class="code-example">
                        <pre><code>public class Account {
    private decimal balance;
    public void Deposit(decimal amount) { balance += amount; }
    public bool Withdraw(decimal amount) {
        if(amount > balance) return false;
        balance -= amount;
        return true;
    }
}</code></pre>
                    </div>
                    <p><strong>Why:</strong> Prevents unauthorized updates and ensures business rules are enforced.</p>
                </div>

                <div class="pillar">
                    <h4>2. Inheritance</h4>
                    <p>Creating new classes based on existing ones, inheriting properties and behaviors.</p>
                    <div class="code-example">
                        <pre><code>public class User {
    public string UserName { get; set; }
    public virtual void Login() { /* generic logic */ }
}
public class AdminUser : User {
    public override void Login() { /* admin-specific logic */ }
    public void ApproveUser() { /* only admin */ }
}</code></pre>
                    </div>
                    <p><strong>Enterprise Use:</strong> Multi-tenant SaaS with different user roles and privileges.</p>
                </div>

                <div class="pillar">
                    <h4>3. Polymorphism</h4>
                    <p>One interface, multiple implementations. Enables flexible, extensible code.</p>
                    <div class="polymorphism-types">
                        <h5>Compile-time (Method Overloading)</h5>
                        <div class="code-example">
                            <pre><code>public class DocumentGenerator {
    public void Generate(int templateId) { /* ... */ }
    public void Generate(string templateName) { /* ... */ }
    public void Generate(string title, string body) { /* ... */ }
}</code></pre>
                        </div>
                        
                        <h5>Runtime (Method Overriding)</h5>
                        <div class="code-example">
                            <pre><code>public interface IReportExporter {
    void Export(Report data);
}
public class PdfExporter : IReportExporter { ... }
public class ExcelExporter : IReportExporter { ... }</code></pre>
                        </div>
                    </div>
                </div>

                <div class="pillar">
                    <h4>4. Abstraction</h4>
                    <p>Hiding complex implementation details, showing only necessary features.</p>
                    <div class="code-example">
                        <pre><code>public interface IPaymentGateway {
    PaymentResult ProcessPayment(PaymentRequest request);
}
public class StripeGateway : IPaymentGateway { ... }
public class PaypalGateway : IPaymentGateway { ... }</code></pre>
                    </div>
                    <p><strong>Benefit:</strong> Swap payment providers with minimal code changes.</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>SOLID Principles</h3>
                <p class="solid-intro">These five design principles are the backbone of maintainable, extensible, and testable enterprise .NET applications.</p>
                
                <div class="solid-principle-detailed">
                    <h4>1. Single Responsibility Principle (SRP)</h4>
                    <p class="principle-definition"><strong>"Every class should have one, and only one, reason to change."</strong></p>
                    
                    <div class="enterprise-example">
                        <h5>Enterprise Example: Leave Management System</h5>
                        <ul>
                            <li><code>LeaveRequestService</code> - Handles business logic (validations, balance checks)</li>
                            <li><code>LeaveRequestRepository</code> - Database operations (CRUD for leave requests)</li>
                            <li><code>LeaveNotificationService</code> - Notifications (emails/SMS for approvals)</li>
                        </ul>
                        <p><strong>Why:</strong> If business rules change, only modify LeaveRequestService. If DB schema changes, only the repository is affected.</p>
                    </div>
                    
                    <div class="common-pitfall">
                        <strong>⚠️ Common Pitfall:</strong> Classes doing everything—business logic, data access, email sending—become impossible to maintain and test.
                    </div>
                </div>

                <div class="solid-principle-detailed">
                    <h4>2. Open/Closed Principle (OCP)</h4>
                    <p class="principle-definition"><strong>"Software entities should be open for extension but closed for modification."</strong></p>
                    
                    <div class="enterprise-example">
                        <h5>Enterprise Example: Invoice Generation Module</h5>
                        <div class="code-example">
                            <pre><code>public interface IInvoiceGenerator { 
    void Generate(InvoiceData data); 
}

public class GSTInvoiceGenerator : IInvoiceGenerator { 
    public void Generate(InvoiceData data) { /* GST logic */ }
}

public class ExportInvoiceGenerator : IInvoiceGenerator { 
    public void Generate(InvoiceData data) { /* Export logic */ }
}</code></pre>
                        </div>
                        <p><strong>Why:</strong> Add new invoice types without touching existing code—prevents regressions.</p>
                    </div>
                    
                    <div class="common-pitfall">
                        <strong>⚠️ Common Pitfall:</strong> Giant switch/case statements—every new type requires editing old code, risking bugs.
                    </div>
                </div>

                <div class="solid-principle-detailed">
                    <h4>3. Liskov Substitution Principle (LSP)</h4>
                    <p class="principle-definition"><strong>"Subclasses should be substitutable for their base class without breaking client code."</strong></p>
                    
                    <div class="enterprise-example">
                        <h5>Enterprise Example: Banking System</h5>
                        <div class="code-example">
                            <pre><code>List&lt;Account&gt; accounts = new() { 
    new SavingsAccount(), 
    new CurrentAccount() 
};

foreach(var acc in accounts) 
    acc.Withdraw(amount); // Works for all account types</code></pre>
                        </div>
                        <p><strong>Why:</strong> Prevents surprises—subclasses maintain the parent's contract.</p>
                    </div>
                    
                    <div class="common-pitfall">
                        <strong>⚠️ Common Pitfall:</strong> Derived classes that throw exceptions or do nothing—violates LSP.
                    </div>
                </div>

                <div class="solid-principle-detailed">
                    <h4>4. Interface Segregation Principle (ISP)</h4>
                    <p class="principle-definition"><strong>"Clients should not be forced to depend on interfaces they do not use."</strong></p>
                    
                    <div class="enterprise-example">
                        <h5>Enterprise Example: User Management Module</h5>
                        <div class="code-example">
                            <pre><code>// Instead of one giant IUserService with 30+ methods:
public interface IAuthenticationService { 
    void Login(); 
    void Logout(); 
}

public interface IProfileService { 
    void UpdateProfile(); 
    UserProfile GetProfile(); 
}</code></pre>
                        </div>
                        <p><strong>Why:</strong> Admin panel only needs IProfileService, login page only needs IAuthenticationService.</p>
                    </div>
                    
                    <div class="common-pitfall">
                        <strong>⚠️ Common Pitfall:</strong> Fat interfaces where changes for one client break others.
                    </div>
                </div>

                <div class="solid-principle-detailed">
                    <h4>5. Dependency Inversion Principle (DIP)</h4>
                    <p class="principle-definition"><strong>"High-level modules should not depend on low-level modules, but on abstractions."</strong></p>
                    
                    <div class="enterprise-example">
                        <h5>Enterprise Example: Order Processing System</h5>
                        <div class="code-example">
                            <pre><code>public class OrderService
{
    private readonly IPaymentGateway _gateway;
    
    public OrderService(IPaymentGateway gateway) 
    { 
        _gateway = gateway; 
    }
    
    public void ProcessOrder(Order order)
    {
        // Can use StripeGateway, PayPalGateway, etc.
        _gateway.ProcessPayment(order.Total);
    }
}</code></pre>
                        </div>
                        <p><strong>Why:</strong> Easy testing (mock the gateway), painless vendor switching, supports DI frameworks.</p>
                    </div>
                    
                    <div class="common-pitfall">
                        <strong>⚠️ Common Pitfall:</strong> Directly instantiating dependencies inside classes—makes code rigid and untestable.
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 How to Demonstrate SOLID in Interviews</h4>
                    <ul>
                        <li><strong>Refactoring:</strong> "We split our monolithic UserService into focused services for auth, profile, and roles to reduce bugs (SRP, ISP)."</li>
                        <li><strong>Extension:</strong> "When GST laws changed, we just added a new invoice generator—existing code didn't change (OCP)."</li>
                        <li><strong>Testing:</strong> "Using interfaces for repositories made it easy to mock dependencies for unit testing (DIP)."</li>
                        <li><strong>Bug Prevention:</strong> "We enforced LSP to fix broken polymorphism in our account hierarchy."</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="dotnet-fundamentals" class="topic-section">
            <h2>.NET Framework & .NET Core Fundamentals</h2>
            
            <div class="concept-card">
                <h3>.NET Framework vs .NET Core/.NET 5+</h3>
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>.NET Framework</th>
                                <th>.NET Core/.NET 5+</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Platform</td>
                                <td>Windows only</td>
                                <td>Cross-platform (Windows, Linux, macOS)</td>
                            </tr>
                            <tr>
                                <td>Deployment</td>
                                <td>Machine-wide installation</td>
                                <td>Side-by-side, self-contained</td>
                            </tr>
                            <tr>
                                <td>Performance</td>
                                <td>Good</td>
                                <td>Better, highly optimized</td>
                            </tr>
                            <tr>
                                <td>Use Cases</td>
                                <td>Legacy apps, WebForms, WCF, WinForms</td>
                                <td>Microservices, REST APIs, cloud-native</td>
                            </tr>
                            <tr>
                                <td>Deployment Target</td>
                                <td>On-premises servers</td>
                                <td>Containers, Azure, Docker</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="example">
                    <h4>Real Enterprise Migration:</h4>
                    <p>Many enterprises are migrating 15–20-year-old ASP.NET Framework web apps to .NET 6+ for containerization and Azure deployment, improving scalability and reducing infrastructure costs.</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Solution & Project Structure</h3>
                <div class="enterprise-example">
                    <h5>Enterprise Solution Architecture</h5>
                    <div class="code-example">
                        <pre><code>MySolution/
├── Company.Product.WebApi/          # Web API controllers
├── Company.Product.Core/            # Business/domain logic
├── Company.Product.Data/            # EF Core/data access
├── Company.Product.Tests/           # Unit/integration tests
└── Company.Product.Infrastructure/  # External services</code></pre>
                    </div>
                    <ul>
                        <li><strong>Assembly:</strong> Output file (.dll/.exe) - unit of deployment and versioning</li>
                        <li><strong>Namespace:</strong> Logical grouping preventing naming conflicts</li>
                        <li><strong>Clean Separation:</strong> Supports maintainability, reusability, and CI/CD</li>
                    </ul>
                </div>
            </div>

            <div class="concept-card">
                <h3>CLR (Common Language Runtime) - The Execution Engine</h3>
                <p class="clr-intro">The CLR is the heart of the .NET ecosystem—it's the execution engine that actually runs your code behind the scenes, similar to the Java Virtual Machine (JVM).</p>
                
                <div class="clr-responsibilities">
                    <div class="clr-responsibility">
                        <h4>1. Just-In-Time (JIT) Compilation</h4>
                        <p>Your C# code → IL (Intermediate Language) → Machine code at runtime</p>
                        <div class="example">
                            <p><strong>Enterprise Example:</strong> Your web API DLL is IL until the CLR loads it and JITs only the parts actually used, making startups faster and memory usage efficient.</p>
                        </div>
                    </div>

                    <div class="clr-responsibility">
                        <h4>2. Memory Management (Garbage Collection)</h4>
                        <p>Automatic memory allocation/deallocation prevents memory leaks</p>
                        <div class="example">
                            <p><strong>Real Use:</strong> In a high-traffic payment gateway API, object allocations for requests/responses are automatically managed, reducing memory bugs.</p>
                        </div>
                    </div>

                    <div class="clr-responsibility">
                        <h4>3. Type Safety & Code Verification</h4>
                        <p>Prevents using objects as incompatible types, avoiding crashes and vulnerabilities</p>
                        <div class="example">
                            <p><strong>Why Important:</strong> Prevents crashes, vulnerabilities, and data corruption in multi-team enterprise projects.</p>
                        </div>
                    </div>

                    <div class="clr-responsibility">
                        <h4>4. Exception Handling</h4>
                        <p>Structured, consistent error handling across all .NET languages</p>
                        <div class="example">
                            <p><strong>Enterprise Use:</strong> Global error handler middleware for APIs—all exceptions bubble up via CLR and can be caught/logged uniformly.</p>
                        </div>
                    </div>

                    <div class="clr-responsibility">
                        <h4>5. Thread Management & Concurrency</h4>
                        <p>Manages threads and supports multi-threading (ThreadPool, async/await)</p>
                        <div class="example">
                            <p><strong>Enterprise Example:</strong> In high-load order processing, background workers and parallel tasks are coordinated by CLR for maximum throughput.</p>
                        </div>
                    </div>

                    <div class="clr-responsibility">
                        <h4>6. Security & Interoperability</h4>
                        <p>Integrates with OS-level security and enables calling unmanaged code (C/C++ DLLs)</p>
                        <div class="example">
                            <p><strong>Real Use:</strong> Legacy enterprise apps calling old C++ DLLs for specialized processing, safely handled by CLR.</p>
                        </div>
                    </div>
                </div>

                <div class="clr-execution-flow">
                    <h4>📋 Typical .NET App Execution Flow</h4>
                    <div class="execution-steps">
                        <div class="step">1. Your code → Compiled to IL (by C# compiler)</div>
                        <div class="step">2. You start the app → CLR loads the main assembly</div>
                        <div class="step">3. CLR/JIT → Converts IL to native code as needed</div>
                        <div class="step">4. CLR executes your code, manages memory, threads, exceptions</div>
                        <div class="step">5. App finishes → CLR cleans up, runs finalizers, releases resources</div>
                    </div>
                </div>

                <div class="clr-cloud-deployment">
                    <h4>🌐 CLR in Cloud Deployments (Azure)</h4>
                    <div class="cloud-scenarios">
                        <div class="cloud-scenario">
                            <h5>Azure App Service</h5>
                            <p>Azure provisions servers with .NET runtime pre-installed. Your API runs within the CLR—Azure manages it for you.</p>
                        </div>
                        <div class="cloud-scenario">
                            <h5>Azure Functions</h5>
                            <p>Serverless, but still runs on VMs. Azure spins up instances with .NET runtime/CLR when functions are triggered.</p>
                        </div>
                        <div class="cloud-scenario">
                            <h5>Containers (AKS)</h5>
                            <p>You package your app with required .NET runtime. CLR runs your code inside the container.</p>
                        </div>
                    </div>
                    <div class="cloud-diagram">
                        <div class="diagram-flow">
                            <span class="diagram-step">[You]</span> → 
                            <span class="diagram-step">[Deploy API]</span> → 
                            <span class="diagram-step">[Azure Runtime]</span> → 
                            <span class="diagram-step">[CLR Runs Code]</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Key C# Language Features for Enterprise</h3>
                
                <div class="language-feature">
                    <h4>Async/Await</h4>
                    <p>Non-blocking operations crucial for scalable APIs</p>
                    <div class="code-example">
                        <pre><code>public async Task&lt;ActionResult&lt;User&gt;&gt; GetUserAsync(int id)
{
    var user = await _userService.GetByIdAsync(id);
    if (user == null) return NotFound();
    return Ok(user);
}</code></pre>
                    </div>
                    <p><strong>Use Case:</strong> Async DB queries, file uploads, external API calls</p>
                </div>

                <div class="language-feature">
                    <h4>LINQ (Language Integrated Query)</h4>
                    <p>Strongly-typed, chainable querying for in-memory and database operations</p>
                    <div class="code-example">
                        <pre><code>var activeUsers = await _context.Users
    .Where(u => u.IsActive && u.LastLoginDate > DateTime.Now.AddDays(-30))
    .OrderBy(u => u.LastName)
    .Select(u => new UserDto { Name = u.FullName, Email = u.Email })
    .ToListAsync();</code></pre>
                    </div>
                </div>

                <div class="language-feature">
                    <h4>Generics & Type Safety</h4>
                    <p>Reusable, type-safe classes and methods</p>
                    <div class="code-example">
                        <pre><code>public class Repository&lt;T&gt; where T : class
{
    private readonly DbContext _context;
    
    public async Task&lt;T&gt; GetByIdAsync(int id) => 
        await _context.Set&lt;T&gt;().FindAsync(id);
        
    public async Task AddAsync(T entity) => 
        await _context.Set&lt;T&gt;().AddAsync(entity);
}</code></pre>
                    </div>
                </div>

                <div class="language-feature">
                    <h4>Delegates & Events</h4>
                    <p>Event-driven systems and pub-sub patterns</p>
                    <div class="code-example">
                        <pre><code>public event EventHandler&lt;OrderProcessedEventArgs&gt; OrderProcessed;

public async Task ProcessOrderAsync(Order order)
{
    // Process order logic
    await SaveOrderAsync(order);
    
    // Notify subscribers
    OrderProcessed?.Invoke(this, new OrderProcessedEventArgs(order));
}</code></pre>
                    </div>
                    <p><strong>Use Case:</strong> Real-time notifications, audit logging, workflow systems</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Dependency Injection & IoC</h3>
                <div class="di-explanation">
                    <h4>Why DI Matters in Enterprise</h4>
                    <ul>
                        <li>Promotes testability and loose coupling</li>
                        <li>Enables easy mocking for unit tests</li>
                        <li>Supports configuration-based service swapping</li>
                        <li>Facilitates clean architecture patterns</li>
                    </ul>
                </div>

                <div class="code-example">
                    <pre><code>// Program.cs / Startup.cs
builder.Services.AddScoped&lt;IUserService, UserService&gt;();
builder.Services.AddScoped&lt;IEmailService, EmailService&gt;();
builder.Services.AddSingleton&lt;IConfiguration&gt;(configuration);

// Controller
public class UsersController : ControllerBase
{
    private readonly IUserService _userService;
    private readonly IEmailService _emailService;
    
    public UsersController(IUserService userService, IEmailService emailService)
    {
        _userService = userService;
        _emailService = emailService;
    }
}</code></pre>
                </div>

                <div class="di-lifetimes">
                    <h5>Service Lifetimes</h5>
                    <ul>
                        <li><strong>Transient:</strong> New instance every time (lightweight services)</li>
                        <li><strong>Scoped:</strong> One instance per request (repositories, business services)</li>
                        <li><strong>Singleton:</strong> Single instance for app lifetime (configuration, caching)</li>
                    </ul>
                </div>

                <div class="example">
                    <h4>Real Example:</h4>
                    <p>Swap real email service for mock in integration tests without changing any business logic code.</p>
                </div>
            </div>
        </section>

        <section id="aspnet-webapi" class="topic-section">
            <h2>ASP.NET Core Web API</h2>
            
            <div class="concept-card">
                <h3>Controllers & Routing</h3>
                <p>RESTful endpoints for CRUD operations and business logic</p>
                
                <div class="code-example">
                    <pre><code>[ApiController]
[Route("api/[controller]")]
public class OrdersController : ControllerBase 
{
    private readonly IOrderService _orderService;
    
    public OrdersController(IOrderService orderService)
    {
        _orderService = orderService;
    }
    
    [HttpGet("{id}")]
    public async Task&lt;ActionResult&lt;OrderDto&gt;&gt; GetOrder(int id)
    {
        var order = await _orderService.GetByIdAsync(id);
        return order != null ? Ok(order) : NotFound();
    }
    
    [HttpPost]
    public async Task&lt;ActionResult&lt;OrderDto&gt;&gt; CreateOrder(CreateOrderRequest request)
    {
        var order = await _orderService.CreateAsync(request);
        return CreatedAtAction(nameof(GetOrder), new { id = order.Id }, order);
    }
}</code></pre>
                </div>
            </div>

            <div class="concept-card">
                <h3>Model Binding & Validation</h3>
                <p>Enforces data integrity at API entry points</p>
                
                <div class="code-example">
                    <pre><code>public class CreateUserRequest
{
    [Required]
    [EmailAddress]
    public string Email { get; set; }
    
    [Required]
    [StringLength(100, MinimumLength = 6)]
    public string Password { get; set; }
    
    [Range(18, 120)]
    public int Age { get; set; }
}

[HttpPost]
public async Task&lt;IActionResult&gt; CreateUser([FromBody] CreateUserRequest request)
{
    if (!ModelState.IsValid)
        return BadRequest(ModelState);
        
    // Process valid request
    var user = await _userService.CreateAsync(request);
    return CreatedAtAction(nameof(GetUser), new { id = user.Id }, user);
}</code></pre>
                </div>
            </div>

            <div class="concept-card">
                <h3>Middleware Pipeline</h3>
                <p>Components that process requests in sequence</p>
                
                <div class="middleware-pipeline">
                    <div class="middleware-component">
                        <h4>Authentication Middleware</h4>
                        <p>JWT token validation, OAuth2, Azure AD integration</p>
                    </div>
                    <div class="middleware-component">
                        <h4>Authorization Middleware</h4>
                        <p>Role-based and policy-based access control</p>
                    </div>
                    <div class="middleware-component">
                        <h4>Logging Middleware</h4>
                        <p>Request/response logging, correlation IDs</p>
                    </div>
                    <div class="middleware-component">
                        <h4>Exception Handling</h4>
                        <p>Global error handling and response formatting</p>
                    </div>
                </div>

                <div class="code-example">
                    <pre><code>// Program.cs
var app = builder.Build();

app.UseAuthentication();
app.UseAuthorization();
app.UseMiddleware&lt;RequestLoggingMiddleware&gt;();
app.UseMiddleware&lt;GlobalExceptionMiddleware&gt;();

app.MapControllers();</code></pre>
                </div>
                
                <div class="example">
                    <h4>Banking App Example:</h4>
                    <p>JWT middleware authenticates every API request, logging middleware tracks all transactions with correlation IDs for audit trails.</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>API Versioning</h3>
                <p>Supports multiple API versions for backward compatibility</p>
                
                <div class="code-example">
                    <pre><code>[ApiController]
[ApiVersion("1.0")]
[ApiVersion("2.0")]
[Route("api/v{version:apiVersion}/[controller]")]
public class UsersController : ControllerBase
{
    [HttpGet]
    [MapToApiVersion("1.0")]
    public IActionResult GetUsersV1() => Ok(/* V1 response */);
    
    [HttpGet]
    [MapToApiVersion("2.0")]
    public IActionResult GetUsersV2() => Ok(/* V2 response with additional fields */);
}</code></pre>
                </div>
            </div>
        </section>

        <section id="entity-framework" class="topic-section">
            <h2>Entity Framework Core</h2>
            
            <div class="concept-card">
                <h3>ORM & Database Mapping</h3>
                <p>Maps database tables to C# classes with LINQ support</p>
                
                <div class="code-example">
                    <pre><code>public class User
{
    public int Id { get; set; }
    public string Email { get; set; }
    public DateTime CreatedOn { get; set; }
    public string CreatedBy { get; set; }
    
    // Navigation properties
    public virtual ICollection&lt;Order&gt; Orders { get; set; }
}

public class ApplicationDbContext : DbContext
{
    public DbSet&lt;User&gt; Users { get; set; }
    public DbSet&lt;Order&gt; Orders { get; set; }
    
    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;User&gt;()
            .HasIndex(u => u.Email)
            .IsUnique();
            
        modelBuilder.Entity&lt;Order&gt;()
            .HasOne(o => o.User)
            .WithMany(u => u.Orders)
            .HasForeignKey(o => o.UserId);
    }
}</code></pre>
                </div>
            </div>

            <div class="concept-card">
                <h3>Migrations & Schema Management</h3>
                <p>Version-controlled database schema changes</p>
                
                <div class="migration-commands">
                    <div class="command-group">
                        <h4>Common EF Core Commands</h4>
                        <div class="code-example">
                            <pre><code># Add new migration
dotnet ef migrations add AddUserTable

# Update database
dotnet ef database update

# Generate SQL script
dotnet ef migrations script</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="example">
                    <h4>Enterprise Benefit:</h4>
                    <p>Critical for team collaboration and CI/CD pipelines. Database changes are tracked, versioned, and can be automatically applied during deployments.</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>DbContext & Unit of Work</h3>
                <p>Manages queries, change tracking, and transactions</p>
                
                <div class="code-example">
                    <pre><code>public class OrderService
{
    private readonly ApplicationDbContext _context;
    
    public OrderService(ApplicationDbContext context)
    {
        _context = context;
    }
    
    public async Task&lt;Order&gt; CreateOrderAsync(CreateOrderRequest request)
    {
        using var transaction = await _context.Database.BeginTransactionAsync();
        
        try
        {
            var order = new Order { /* map properties */ };
            _context.Orders.Add(order);
            
            // Update inventory
            var product = await _context.Products.FindAsync(request.ProductId);
            product.Stock -= request.Quantity;
            
            await _context.SaveChangesAsync();
            await transaction.CommitAsync();
            
            return order;
        }
        catch
        {
            await transaction.RollbackAsync();
            throw;
        }
    }
}</code></pre>
                </div>
                
                <div class="example">
                    <h4>Real Example:</h4>
                    <p>Auto-generating audit columns (CreatedOn, ModifiedBy) via EF Core conventions and interceptors for compliance requirements.</p>
                </div>
            </div>
        </section>

        <section id="authentication-authorization" class="topic-section">
            <h2>Authentication & Authorization</h2>
            
            <div class="concept-card">
                <h3>Authentication - "Who are you?"</h3>
                
                <div class="auth-methods">
                    <div class="auth-method">
                        <h4>JWT Tokens</h4>
                        <div class="code-example">
                            <pre><code>services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)
    .AddJwtBearer(options =>
    {
        options.TokenValidationParameters = new TokenValidationParameters
        {
            ValidateIssuer = true,
            ValidateAudience = true,
            ValidateLifetime = true,
            ValidateIssuerSigningKey = true,
            ValidIssuer = configuration["Jwt:Issuer"],
            ValidAudience = configuration["Jwt:Audience"],
            IssuerSigningKey = new SymmetricSecurityKey(
                Encoding.UTF8.GetBytes(configuration["Jwt:Key"]))
        };
    });</code></pre>
                        </div>
                    </div>
                    
                    <div class="auth-method">
                        <h4>OAuth2 & Azure AD</h4>
                        <div class="code-example">
                            <pre><code>services.AddAuthentication(OpenIdConnectDefaults.AuthenticationScheme)
    .AddMicrosoftIdentityWebApp(configuration.GetSection("AzureAd"));</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Authorization - "What can you do?"</h3>
                
                <div class="authorization-types">
                    <div class="auth-type">
                        <h4>Role-Based Authorization</h4>
                        <div class="code-example">
                            <pre><code>[Authorize(Roles = "Admin,Manager")]
public class AdminController : ControllerBase
{
    [HttpDelete("users/{id}")]
    [Authorize(Roles = "Admin")]
    public async Task&lt;IActionResult&gt; DeleteUser(int id) { /* */ }
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="auth-type">
                        <h4>Policy-Based Authorization</h4>
                        <div class="code-example">
                            <pre><code>services.AddAuthorization(options =>
{
    options.AddPolicy("CanManageUsers", policy =>
        policy.RequireClaim("permission", "users.manage"));
        
    options.AddPolicy("MinimumAge", policy =>
        policy.Requirements.Add(new MinimumAgeRequirement(18)));
});

[Authorize(Policy = "CanManageUsers")]
public class UserManagementController : ControllerBase { /* */ }</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="example">
                    <h4>Real Example:</h4>
                    <p>HRMS system with role-based access: Employees can view their own data, Managers can approve leave requests, HR Admins can manage all employee records.</p>
                </div>
            </div>
        </section>

        <section id="windows-services" class="topic-section">
            <h2>Windows Services & Background Jobs</h2>
            
            <div class="concept-card">
                <h3>Background Services Use Cases</h3>
                <ul class="service-use-cases">
                    <li>Scheduled database cleanup and maintenance</li>
                    <li>Email sending and notification processing</li>
                    <li>Data import/export operations</li>
                    <li>ETL (Extract, Transform, Load) jobs</li>
                    <li>File processing and monitoring</li>
                    <li>Report generation and distribution</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>.NET Worker Service</h3>
                <p>Modern approach for background services in .NET</p>
                
                <div class="code-example">
                    <pre><code>public class InvoiceProcessingService : BackgroundService
{
    private readonly ILogger&lt;InvoiceProcessingService&gt; _logger;
    private readonly IServiceProvider _serviceProvider;
    
    public InvoiceProcessingService(
        ILogger&lt;InvoiceProcessingService&gt; logger,
        IServiceProvider serviceProvider)
    {
        _logger = logger;
        _serviceProvider = serviceProvider;
    }
    
    protected override async Task ExecuteAsync(CancellationToken stoppingToken)
    {
        while (!stoppingToken.IsCancellationRequested)
        {
            try
            {
                using var scope = _serviceProvider.CreateScope();
                var invoiceService = scope.ServiceProvider
                    .GetRequiredService&lt;IInvoiceService&gt;();
                
                await invoiceService.ProcessPendingInvoicesAsync();
                
                _logger.LogInformation("Invoice processing completed at {Time}", 
                    DateTimeOffset.Now);
            }
            catch (Exception ex)
            {
                _logger.LogError(ex, "Error processing invoices");
            }
            
            await Task.Delay(TimeSpan.FromHours(1), stoppingToken);
        }
    }
}</code></pre>
                </div>
            </div>

            <div class="concept-card">
                <h3>Deployment as Windows Service</h3>
                
                <div class="code-example">
                    <pre><code># Install as Windows Service
sc create "InvoiceProcessor" binpath="C:\Services\InvoiceProcessor.exe"

# Start the service
sc start "InvoiceProcessor"

# Or use .NET CLI
dotnet publish -c Release
sc create "MyService" binpath="C:\MyApp\MyService.exe"</code></pre>
                </div>
                
                <div class="example">
                    <h4>Real Example:</h4>
                    <p>Background invoice processing service that runs nightly, processes pending invoices, generates PDFs, sends emails, and logs progress for monitoring and troubleshooting.</p>
                </div>
            </div>
        </section>

        <section id="database-sql" class="topic-section">
            <h2>Database & SQL Server</h2>
            
            <div class="concept-card">
                <h3>SQL Server Fundamentals</h3>
                
                <div class="sql-definition">
                    <p><strong>SQL Server</strong> is a relational database management system (RDBMS) developed by Microsoft that stores, retrieves, and manages data for enterprise applications.</p>
                </div>

                <div class="sql-key-concepts">
                    <h4>🗄️ Core Database Concepts</h4>
                    
                    <div class="concepts-grid">
                        <div class="db-concept">
                            <h6>🗃️ Database</h6>
                            <p>Logical container for data (e.g., HRDB, ECommerceDB)</p>
                        </div>
                        <div class="db-concept">
                            <h6>📊 Table</h6>
                            <p>Collection of rows (records) and columns (fields)</p>
                        </div>
                        <div class="db-concept">
                            <h6>📝 Row</h6>
                            <p>Single record in a table</p>
                        </div>
                        <div class="db-concept">
                            <h6>📋 Column</h6>
                            <p>Field/attribute of the record</p>
                        </div>
                        <div class="db-concept">
                            <h6>🔑 Primary Key</h6>
                            <p>Unique identifier for each row</p>
                        </div>
                        <div class="db-concept">
                            <h6>🔗 Foreign Key</h6>
                            <p>Links rows between tables (referential integrity)</p>
                        </div>
                    </div>
                </div>

                <div class="crud-operations">
                    <h4>🔄 CRUD Operations</h4>
                    
                    <div class="crud-grid">
                        <div class="crud-operation create">
                            <h5>Create (INSERT)</h5>
                            <div class="code-example">
                                <pre><code>INSERT INTO Employees (Name, Age, Department) 
VALUES ('Rahul', 32, 'Engineering')</code></pre>
                            </div>
                        </div>
                        
                        <div class="crud-operation read">
                            <h5>Read (SELECT)</h5>
                            <div class="code-example">
                                <pre><code>SELECT Name, Age, Department 
FROM Employees 
WHERE Age > 30</code></pre>
                            </div>
                        </div>
                        
                        <div class="crud-operation update">
                            <h5>Update (UPDATE)</h5>
                            <div class="code-example">
                                <pre><code>UPDATE Employees 
SET Age = 33 
WHERE Name = 'Rahul'</code></pre>
                            </div>
                        </div>
                        
                        <div class="crud-operation delete">
                            <h5>Delete (DELETE)</h5>
                            <div class="code-example">
                                <pre><code>DELETE FROM Employees 
WHERE Name = 'Rahul'</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sql-joins">
                    <h4>🔗 SQL Joins</h4>
                    
                    <div class="joins-grid">
                        <div class="join-type">
                            <h5>INNER JOIN</h5>
                            <p>Returns rows with matching values in both tables</p>
                            <div class="code-example">
                                <pre><code>SELECT e.Name, d.DepartmentName
FROM Employees e
INNER JOIN Departments d ON e.DepartmentId = d.Id</code></pre>
                            </div>
                        </div>
                        
                        <div class="join-type">
                            <h5>LEFT JOIN</h5>
                            <p>All rows from left table + matching rows from right (null if no match)</p>
                            <div class="code-example">
                                <pre><code>SELECT e.Name, d.DepartmentName
FROM Employees e
LEFT JOIN Departments d ON e.DepartmentId = d.Id</code></pre>
                            </div>
                        </div>
                        
                        <div class="join-type">
                            <h5>RIGHT JOIN</h5>
                            <p>All rows from right + matching rows from left</p>
                            <div class="code-example">
                                <pre><code>SELECT e.Name, d.DepartmentName
FROM Employees e
RIGHT JOIN Departments d ON e.DepartmentId = d.Id</code></pre>
                            </div>
                        </div>
                        
                        <div class="join-type">
                            <h5>FULL JOIN</h5>
                            <p>All rows when there is a match in one of the tables</p>
                            <div class="code-example">
                                <pre><code>SELECT e.Name, d.DepartmentName
FROM Employees e
FULL JOIN Departments d ON e.DepartmentId = d.Id</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>ACID Properties</h3>
                
                <div class="acid-intro">
                    <p>ACID properties ensure that database transactions are reliable and maintain data integrity in enterprise applications.</p>
                </div>

                <div class="acid-properties">
                    <div class="acid-property atomicity">
                        <h4>🔄 Atomicity</h4>
                        <p><strong>Definition:</strong> A transaction is "all or nothing." Either every operation completes successfully, or none do.</p>
                        
                        <div class="acid-example">
                            <h5>💰 Bank Transfer Example</h5>
                            <div class="code-example">
                                <pre><code>BEGIN TRANSACTION
    UPDATE Accounts SET Balance = Balance - 10000 WHERE AccountId = 1
    UPDATE Accounts SET Balance = Balance + 10000 WHERE AccountId = 2
COMMIT TRANSACTION
-- If anything fails, ROLLBACK happens, so both accounts are untouched.</code></pre>
                            </div>
                            <p><strong>Result:</strong> If deduction succeeds but addition fails, both steps are undone—no money is lost or duplicated.</p>
                        </div>
                    </div>

                    <div class="acid-property consistency">
                        <h4>✅ Consistency</h4>
                        <p><strong>Definition:</strong> A transaction brings the database from one valid state to another, obeying all rules (constraints, triggers, cascades).</p>
                        
                        <div class="acid-example">
                            <h5>🛡️ Constraint Enforcement</h5>
                            <div class="code-example">
                                <pre><code>ALTER TABLE Accounts
ADD CONSTRAINT chk_balance_nonnegative CHECK (Balance >= 0)</code></pre>
                            </div>
                            <p><strong>Result:</strong> Any operation violating this constraint fails, maintaining consistency—no negative balances, no broken references.</p>
                        </div>
                    </div>

                    <div class="acid-property isolation">
                        <h4>🔒 Isolation</h4>
                        <p><strong>Definition:</strong> Concurrent transactions do not interfere with each other. Each transaction executes as if it's the only one running.</p>
                        
                        <div class="isolation-levels">
                            <h5>📊 Isolation Levels</h5>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Level</th>
                                        <th>Dirty Reads</th>
                                        <th>Non-repeatable Reads</th>
                                        <th>Phantom Reads</th>
                                        <th>Concurrency</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Read Uncommitted</td>
                                        <td>Yes</td>
                                        <td>Yes</td>
                                        <td>Yes</td>
                                        <td>Highest</td>
                                    </tr>
                                    <tr>
                                        <td>Read Committed</td>
                                        <td>No</td>
                                        <td>Yes</td>
                                        <td>Yes</td>
                                        <td>High</td>
                                    </tr>
                                    <tr>
                                        <td>Repeatable Read</td>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>Yes</td>
                                        <td>Medium</td>
                                    </tr>
                                    <tr>
                                        <td>Serializable</td>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>Low</td>
                                    </tr>
                                    <tr>
                                        <td>Snapshot</td>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>High</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="acid-property durability">
                        <h4>💾 Durability</h4>
                        <p><strong>Definition:</strong> Once a transaction is committed, its changes are permanent—even if there's a system crash, power loss, or database restart.</p>
                        
                        <div class="acid-example">
                            <h5>🔐 Transaction Log</h5>
                            <p><strong>How it works:</strong> SQL Server writes all transaction logs to disk <strong>before</strong> acknowledging a commit. If the database restarts after a commit, it uses the transaction log to restore all committed transactions, guaranteeing no data loss.</p>
                        </div>
                    </div>
                </div>

                <div class="acid-summary-table">
                    <h4>📋 ACID Summary</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Meaning</th>
                                <th>Example Scenario</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Atomicity</td>
                                <td>All or nothing</td>
                                <td>Both debit & credit succeed, or neither</td>
                            </tr>
                            <tr>
                                <td>Consistency</td>
                                <td>Data moves from one valid state to another</td>
                                <td>No negative balances, no broken FKs</td>
                            </tr>
                            <tr>
                                <td>Isolation</td>
                                <td>Transactions don't affect each other</td>
                                <td>Concurrent transfers don't interfere</td>
                            </tr>
                            <tr>
                                <td>Durability</td>
                                <td>Once committed, changes are permanent</td>
                                <td>Server crash doesn't lose money</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="concept-card">
                <h3>Indexing & Performance</h3>
                
                <div class="indexing-intro">
                    <p><strong>Purpose:</strong> Indexes speed up SELECT queries (like an index in a book) by creating optimized data structures for fast lookups.</p>
                </div>

                <div class="index-types">
                    <h4>📚 Index Types</h4>
                    
                    <div class="index-comparison">
                        <div class="index-type clustered">
                            <h5>🗂️ Clustered Index</h5>
                            <ul>
                                <li>Sorts the actual data rows physically</li>
                                <li>Only <strong>1 per table</strong></li>
                                <li>Usually on Primary Key</li>
                                <li>Data pages are stored in order</li>
                            </ul>
                            <div class="code-example">
                                <pre><code>CREATE CLUSTERED INDEX IX_Employee_Id 
ON Employees (EmployeeId)</code></pre>
                            </div>
                        </div>
                        
                        <div class="index-type nonclustered">
                            <h5>📑 Non-Clustered Index</h5>
                            <ul>
                                <li>Separate structure pointing to data</li>
                                <li><strong>Multiple allowed</strong> per table</li>
                                <li>Contains key values + row locators</li>
                                <li>Doesn't change physical data order</li>
                            </ul>
                            <div class="code-example">
                                <pre><code>CREATE NONCLUSTERED INDEX IX_Employee_Name 
ON Employees (LastName, FirstName)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="index-usage">
                    <h4>⚡ When to Use Indexes</h4>
                    <div class="usage-scenarios">
                        <div class="usage-scenario">
                            <h5>✅ Good for Indexing</h5>
                            <ul>
                                <li>Columns often used in <code>WHERE</code> clauses</li>
                                <li>Columns used in <code>JOIN</code> conditions</li>
                                <li>Columns used in <code>ORDER BY</code></li>
                                <li>Foreign key columns</li>
                                <li>Columns with high selectivity</li>
                            </ul>
                        </div>
                        
                        <div class="usage-scenario">
                            <h5>❌ Avoid Indexing</h5>
                            <ul>
                                <li>Columns that change frequently</li>
                                <li>Very small tables</li>
                                <li>Columns with low selectivity</li>
                                <li>Wide columns (use included columns instead)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Stored Procedures & Functions</h3>
                
                <div class="sp-definition">
                    <p>Precompiled groups of SQL statements that provide performance, security, and maintainability benefits in enterprise applications.</p>
                </div>

                <div class="sp-compilation">
                    <h4>⚙️ "Precompiled" Explained</h4>
                    
                    <div class="compilation-process">
                        <div class="compilation-step">
                            <h5>1️⃣ First Execution</h5>
                            <p>SQL Server parses, compiles, and creates an <strong>execution plan</strong>, then caches it in memory.</p>
                        </div>
                        <div class="compilation-step">
                            <h5>2️⃣ Subsequent Executions</h5>
                            <p>SQL Server looks for the cached execution plan and <strong>reuses it</strong>—no need to recompile.</p>
                        </div>
                        <div class="compilation-step">
                            <h5>3️⃣ Performance Benefit</h5>
                            <p>Saves compilation time and improves consistency for repeated calls.</p>
                        </div>
                    </div>
                </div>

                <div class="sp-vs-adhoc">
                    <h4>📊 Stored Procedures vs Ad-hoc SQL</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Ad-hoc SQL</th>
                                <th>Stored Procedure</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Compilation</td>
                                <td>On every unique query</td>
                                <td>First execution, then reused</td>
                            </tr>
                            <tr>
                                <td>Plan cache</td>
                                <td>Not always reused</td>
                                <td>Frequently reused</td>
                            </tr>
                            <tr>
                                <td>Performance</td>
                                <td>Slower for repeated calls</td>
                                <td>Faster for repeated calls</td>
                            </tr>
                            <tr>
                                <td>Security</td>
                                <td>SQL injection risk</td>
                                <td>Better protection</td>
                            </tr>
                            <tr>
                                <td>Maintainability</td>
                                <td>Logic in application</td>
                                <td>Centralized business logic</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="sp-example">
                    <h4>📝 Enterprise Stored Procedure Example</h4>
                    <div class="code-example">
                        <pre><code>CREATE PROCEDURE usp_GetEmployeesByDepartment
    @DepartmentId INT,
    @IsActive BIT = 1,
    @PageNumber INT = 1,
    @PageSize INT = 10
AS
BEGIN
    SET NOCOUNT ON;
    
    DECLARE @Offset INT = (@PageNumber - 1) * @PageSize;
    
    SELECT 
        EmployeeId,
        FirstName,
        LastName,
        Email,
        HireDate,
        Salary
    FROM Employees 
    WHERE DepartmentId = @DepartmentId 
        AND IsActive = @IsActive
    ORDER BY LastName, FirstName
    OFFSET @Offset ROWS 
    FETCH NEXT @PageSize ROWS ONLY;
    
    -- Return total count for pagination
    SELECT COUNT(*) as TotalRecords
    FROM Employees 
    WHERE DepartmentId = @DepartmentId 
        AND IsActive = @IsActive;
END</code></pre>
                    </div>
                </div>

                <div class="function-types">
                    <h4>🔧 User Defined Functions</h4>
                    
                    <div class="function-comparison">
                        <div class="function-type scalar">
                            <h5>Scalar-Valued Function</h5>
                            <p>Returns a single value</p>
                            <div class="code-example">
                                <pre><code>CREATE FUNCTION dbo.CalculateAge(@BirthDate DATE)
RETURNS INT
AS
BEGIN
    RETURN DATEDIFF(YEAR, @BirthDate, GETDATE())
END

-- Usage
SELECT Name, dbo.CalculateAge(BirthDate) as Age 
FROM Employees</code></pre>
                            </div>
                        </div>
                        
                        <div class="function-type table">
                            <h5>Table-Valued Function</h5>
                            <p>Returns a result set (table)</p>
                            <div class="code-example">
                                <pre><code>CREATE FUNCTION dbo.GetEmployeesByDepartment(@DeptId INT)
RETURNS TABLE
AS
RETURN
(
    SELECT EmployeeId, Name, Salary
    FROM Employees
    WHERE DepartmentId = @DeptId
)

-- Usage
SELECT * FROM dbo.GetEmployeesByDepartment(5)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Advanced SQL Concepts</h3>
                
                <div class="groupby-having">
                    <h4>📊 GROUP BY & HAVING</h4>
                    
                    <div class="groupby-explanation">
                        <div class="concept-explanation">
                            <h5>GROUP BY</h5>
                            <p><strong>Purpose:</strong> Groups rows that have the same values in specified columns into summary rows for aggregation.</p>
                            <div class="code-example">
                                <pre><code>SELECT ProductId, SUM(Amount) AS TotalSales
FROM Sales
GROUP BY ProductId</code></pre>
                            </div>
                        </div>
                        
                        <div class="concept-explanation">
                            <h5>HAVING</h5>
                            <p><strong>Purpose:</strong> Filters groups <em>after</em> aggregation, based on aggregate function results.</p>
                            <div class="code-example">
                                <pre><code>SELECT ProductId, SUM(Amount) AS TotalSales
FROM Sales
GROUP BY ProductId
HAVING SUM(Amount) > 10000</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="where-vs-having">
                        <h5>📋 WHERE vs GROUP BY vs HAVING</h5>
                        <table>
                            <thead>
                                <tr>
                                    <th>Feature</th>
                                    <th>WHERE</th>
                                    <th>GROUP BY</th>
                                    <th>HAVING</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Purpose</td>
                                    <td>Filter individual rows</td>
                                    <td>Create groups for aggregation</td>
                                    <td>Filter groups (after aggregation)</td>
                                </tr>
                                <tr>
                                    <td>When Applied</td>
                                    <td>Before grouping/aggregation</td>
                                    <td>Groups rows</td>
                                    <td>After grouping/aggregation</td>
                                </tr>
                                <tr>
                                    <td>Can use aggregates?</td>
                                    <td>❌ No</td>
                                    <td>N/A</td>
                                    <td>✅ Yes</td>
                                </tr>
                                <tr>
                                    <td>Example</td>
                                    <td><code>WHERE Amount > 100</code></td>
                                    <td><code>GROUP BY ProductId</code></td>
                                    <td><code>HAVING SUM(Amount) > 10000</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="enterprise-example">
                        <h5>🏢 Enterprise Sales Dashboard Example</h5>
                        <div class="code-example">
                            <pre><code>SELECT 
    ProductId, 
    COUNT(*) as OrderCount,
    SUM(Amount) AS TotalSales,
    AVG(Amount) as AvgOrderValue
FROM Sales
WHERE SaleDate >= '2024-08-01' AND SaleDate < '2024-09-01'  -- Filter rows first
GROUP BY ProductId                                           -- Group by product
HAVING SUM(Amount) > 10000                                  -- Filter groups
ORDER BY TotalSales DESC</code></pre>
                        </div>
                        <p><strong>Explanation:</strong> Shows products with total sales > ₹10,000 in August, ordered by highest sales first.</p>
                    </div>
                </div>

                <div class="window-functions">
                    <h4>🪟 Window Functions</h4>
                    
                    <div class="row-number-function">
                        <h5>ROW_NUMBER()</h5>
                        <p>Assigns a unique sequential integer to rows within a result set, based on the specified order.</p>
                        
                        <div class="row-number-examples">
                            <div class="example-use-case">
                                <h6>📄 Pagination</h6>
                                <div class="code-example">
                                    <pre><code>-- Get page 3 of employees, 10 per page
DECLARE @PageNumber INT = 3, @PageSize INT = 10

SELECT * FROM (
    SELECT 
        ROW_NUMBER() OVER (ORDER BY LastName, FirstName) AS RowNum,
        EmployeeId, FirstName, LastName, Department
    FROM Employees
) AS PagedResults
WHERE RowNum BETWEEN (@PageNumber - 1) * @PageSize + 1 
                 AND @PageNumber * @PageSize</code></pre>
                                </div>
                            </div>
                            
                            <div class="example-use-case">
                                <h6>🗑️ De-duplication</h6>
                                <div class="code-example">
                                    <pre><code>-- Remove duplicate users, keeping the latest record
WITH DuplicateUsers AS (
    SELECT *,
           ROW_NUMBER() OVER (PARTITION BY Email ORDER BY CreatedOn DESC) AS rn
    FROM Users
)
DELETE FROM DuplicateUsers WHERE rn > 1</code></pre>
                                </div>
                            </div>
                            
                            <div class="example-use-case">
                                <h6>🏆 Ranking Within Groups</h6>
                                <div class="code-example">
                                    <pre><code>-- Find highest paid employee in each department
SELECT * FROM (
    SELECT *,
           ROW_NUMBER() OVER (PARTITION BY DepartmentId ORDER BY Salary DESC) AS DeptRank
    FROM Employees
) AS RankedEmployees
WHERE DeptRank = 1</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cte-concepts">
                    <h4>🔗 Common Table Expressions (CTEs)</h4>
                    
                    <div class="cte-definition">
                        <p>A CTE is a temporary, named result set defined within the execution scope of a single SQL statement using the <code>WITH</code> keyword.</p>
                    </div>

                    <div class="cte-benefits">
                        <h5>💡 Why Use CTEs?</h5>
                        <ul>
                            <li><strong>Readability:</strong> Breaks down complex queries into manageable, logical steps</li>
                            <li><strong>Reusability:</strong> Reference the CTE multiple times in the main query</li>
                            <li><strong>Recursion:</strong> Enables elegant solutions to hierarchical problems</li>
                        </ul>
                    </div>

                    <div class="cte-examples">
                        <div class="cte-example simple">
                            <h5>📝 Simple CTE Example</h5>
                            <div class="code-example">
                                <pre><code>-- Find high-earning recent hires
WITH RecentHires AS (
    SELECT EmployeeId, FirstName, LastName, Salary, HireDate
    FROM Employees
    WHERE HireDate >= DATEADD(year, -1, GETDATE())
)
SELECT * 
FROM RecentHires 
WHERE Salary > 100000
ORDER BY Salary DESC</code></pre>
                            </div>
                        </div>
                        
                        <div class="cte-example recursive">
                            <h5>🌳 Recursive CTE Example</h5>
                            <div class="code-example">
                                <pre><code>-- Get all employees in a manager's hierarchy
WITH OrgChart AS (
    -- Anchor: Start with the top manager
    SELECT EmployeeId, ManagerId, FirstName, LastName, 1 as Level
    FROM Employees
    WHERE ManagerId IS NULL
    
    UNION ALL
    
    -- Recursive: Get all subordinates
    SELECT e.EmployeeId, e.ManagerId, e.FirstName, e.LastName, o.Level + 1
    FROM Employees e
    INNER JOIN OrgChart o ON e.ManagerId = o.EmployeeId
)
SELECT 
    REPLICATE('  ', Level - 1) + FirstName + ' ' + LastName as HierarchyView,
    Level
FROM OrgChart
ORDER BY Level, LastName</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pagination-concepts">
                    <h4>📄 Modern Pagination (OFFSET-FETCH)</h4>
                    
                    <div class="pagination-syntax">
                        <h5>🔧 SQL Server 2012+ Syntax</h5>
                        <div class="code-example">
                            <pre><code>SELECT columns
FROM TableName
ORDER BY SortColumn
OFFSET @Offset ROWS FETCH NEXT @PageSize ROWS ONLY;</code></pre>
                        </div>
                        <p><strong>@Offset:</strong> How many rows to skip <code>(PageNumber - 1) * PageSize</code><br>
                        <strong>@PageSize:</strong> Number of rows per page</p>
                    </div>

                    <div class="pagination-example">
                        <h5>📋 Practical Example</h5>
                        <div class="code-example">
                            <pre><code>-- Get page 3 of employees, 10 per page
DECLARE @PageNumber INT = 3
DECLARE @PageSize INT = 10

SELECT 
    EmployeeId, 
    FirstName, 
    LastName, 
    Department,
    Salary
FROM Employees
ORDER BY LastName, FirstName
OFFSET (@PageNumber - 1) * @PageSize ROWS 
FETCH NEXT @PageSize ROWS ONLY</code></pre>
                        </div>
                        <p><strong>This skips the first 20 rows</strong> <code>((3-1)*10 = 20)</code> and returns the next 10.</p>
                    </div>
                </div>

                <div class="temp-tables-variables">
                    <h4>🗃️ Temporary Storage</h4>
                    
                    <div class="temp-storage-comparison">
                        <div class="temp-table">
                            <h5>#TempTable</h5>
                            <p><strong>Definition:</strong> A real, physical table created in the tempdb system database.</p>
                            
                            <div class="code-example">
                                <pre><code>CREATE TABLE #TempEmployees (
    Id INT, 
    Name NVARCHAR(100),
    Department NVARCHAR(50)
)

INSERT INTO #TempEmployees VALUES (1, 'Rahul', 'Engineering')
SELECT * FROM #TempEmployees

DROP TABLE #TempEmployees</code></pre>
                            </div>

                            <div class="features">
                                <h6>✅ Features</h6>
                                <ul>
                                    <li>Can have indexes, constraints</li>
                                    <li>Can be altered after creation</li>
                                    <li>Supports parallelism and statistics</li>
                                    <li>Session-scoped (visible to nested procedures)</li>
                                    <li>Good for large datasets and complex operations</li>
                                </ul>
                            </div>
                        </div>

                        <div class="table-variable">
                            <h5>@TableVariable</h5>
                            <p><strong>Definition:</strong> A variable declared and managed in memory, optimized for short-lived, small datasets.</p>
                            
                            <div class="code-example">
                                <pre><code>DECLARE @Employees TABLE (
    Id INT, 
    Name NVARCHAR(100),
    Department NVARCHAR(50)
)

INSERT INTO @Employees VALUES (1, 'Rahul', 'Engineering')
SELECT * FROM @Employees</code></pre>
                            </div>

                            <div class="features">
                                <h6>⚡ Features</h6>
                                <ul>
                                    <li>Limited indexing support</li>
                                    <li>Cannot be altered after creation</li>
                                    <li>Batch/procedure scoped only</li>
                                    <li>Limited statistics (optimizer estimates 1 row)</li>
                                    <li>Good for small, short-lived datasets</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="temp-storage-table">
                        <h5>📊 Comparison Table</h5>
                        <table>
                            <thead>
                                <tr>
                                    <th>Feature</th>
                                    <th>Temp Table (#TempTable)</th>
                                    <th>Table Variable (@TableVar)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Storage</td>
                                    <td>tempdb (physical table)</td>
                                    <td>tempdb (optimized metadata)</td>
                                </tr>
                                <tr>
                                    <td>Scope</td>
                                    <td>Session/procedure/nested procs</td>
                                    <td>Batch/procedure/function only</td>
                                </tr>
                                <tr>
                                    <td>Indexes</td>
                                    <td>Fully supported</td>
                                    <td>Limited (improved in SQL 2016+)</td>
                                </tr>
                                <tr>
                                    <td>Statistics</td>
                                    <td>Yes (helps optimizer)</td>
                                    <td>Minimal (row count often "1")</td>
                                </tr>
                                <tr>
                                    <td>Parallelism</td>
                                    <td>Yes</td>
                                    <td>No</td>
                                </tr>
                                <tr>
                                    <td>Best for</td>
                                    <td>Large/intermediate result sets</td>
                                    <td>Small, short-lived datasets</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="dynamic-sql">
                    <h4>🔄 Dynamic SQL</h4>
                    
                    <div class="dynamic-sql-definition">
                        <p><strong>Definition:</strong> A dynamic query is an SQL statement built and executed at runtime, rather than being hardcoded and static.</p>
                    </div>

                    <div class="dynamic-sql-why">
                        <h5>🤔 Why Use Dynamic SQL?</h5>
                        <ul>
                            <li>Table or column names depend on user input</li>
                            <li>Search/filter forms with optional criteria</li>
                            <li>Pivoting/aggregation on dynamic columns</li>
                            <li>Database maintenance scripts</li>
                        </ul>
                    </div>

                    <div class="dynamic-sql-example">
                        <h5>🔍 Dynamic Search Example</h5>
                        <div class="code-example">
                            <pre><code>CREATE PROCEDURE usp_SearchEmployees
    @Name NVARCHAR(50) = NULL,
    @Department NVARCHAR(50) = NULL,
    @IsActive BIT = NULL
AS
BEGIN
    DECLARE @SQL NVARCHAR(MAX) = 'SELECT * FROM Employees WHERE 1=1'
    
    IF @Name IS NOT NULL
        SET @SQL += ' AND FirstName LIKE @Name'
    
    IF @Department IS NOT NULL
        SET @SQL += ' AND Department = @Department'
    
    IF @IsActive IS NOT NULL
        SET @SQL += ' AND IsActive = @IsActive'
    
    -- Use sp_executesql for parameterization (prevents SQL injection)
    EXEC sp_executesql @SQL, 
        N'@Name NVARCHAR(50), @Department NVARCHAR(50), @IsActive BIT', 
        @Name, @Department, @IsActive
END</code></pre>
                        </div>
                    </div>

                    <div class="dynamic-sql-best-practices">
                        <h5>🛡️ Security Best Practices</h5>
                        <div class="best-practices-grid">
                            <div class="good-practice">
                                <h6>✅ Do This</h6>
                                <ul>
                                    <li>Always use parameters with <code>sp_executesql</code></li>
                                    <li>Use <code>QUOTENAME()</code> for table/column names</li>
                                    <li>Validate input parameters</li>
                                    <li>Use whitelisting for dynamic object names</li>
                                </ul>
                            </div>
                            
                            <div class="bad-practice">
                                <h6>❌ Avoid This</h6>
                                <ul>
                                    <li>String concatenation with user input</li>
                                    <li>Using dynamic SQL when static will work</li>
                                    <li>Ignoring SQL injection risks</li>
                                    <li>Building complex logic in dynamic strings</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="dynamic-sql-pros-cons">
                        <h5>⚖️ Pros & Cons</h5>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pros</th>
                                    <th>Cons</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Flexible, handles dynamic logic</td>
                                    <td>Risk of SQL Injection if not parameterized</td>
                                </tr>
                                <tr>
                                    <td>Useful for meta-programming</td>
                                    <td>Harder to maintain and debug</td>
                                </tr>
                                <tr>
                                    <td>Enables "search everywhere" forms</td>
                                    <td>Can hurt performance/plan cache</td>
                                </tr>
                                <tr>
                                    <td>Required for some admin tasks</td>
                                    <td>Less readable than static SQL</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Stored Procedures vs Dynamic SQL</h3>
                
                <div class="sp-vs-dynamic-intro">
                    <p>Understanding the differences between stored procedures and dynamic SQL is crucial for enterprise database design and performance optimization.</p>
                </div>

                <div class="sp-dynamic-comparison">
                    <div class="stored-procedure-section">
                        <h4>🔹 Stored Procedure (SP)</h4>
                        <p>A <strong>precompiled block of SQL code</strong> stored in the database with cached execution plans for optimal performance.</p>
                        
                        <div class="sp-characteristics">
                            <h5>📋 Key Characteristics</h5>
                            <ul>
                                <li>Can take parameters</li>
                                <li>Runs on the server side</li>
                                <li>Execution plan is cached (faster on repeated calls)</li>
                                <li>Precompiled and optimized</li>
                            </ul>
                        </div>

                        <div class="sp-example">
                            <h5>👉 Example</h5>
                            <div class="code-example">
                                <pre><code>CREATE PROCEDURE GetCustomerOrders
    @CustomerID INT
AS
BEGIN
    SELECT OrderID, Product, OrderDate, TotalAmount
    FROM Orders
    WHERE CustomerID = @CustomerID
    ORDER BY OrderDate DESC;
END;</code></pre>
                            </div>
                            
                            <h6>Usage:</h6>
                            <div class="code-example">
                                <pre><code>EXEC GetCustomerOrders @CustomerID = 1;</code></pre>
                            </div>
                        </div>

                        <div class="sp-benefits">
                            <h5>✅ Benefits</h5>
                            <ul>
                                <li><strong>Performance:</strong> Execution plan reused for faster subsequent calls</li>
                                <li><strong>Security:</strong> Can restrict direct table access, prevents SQL injection</li>
                                <li><strong>Maintainability:</strong> Centralized business logic, easy to update</li>
                                <li><strong>Consistency:</strong> Supports business logic in one place</li>
                            </ul>
                        </div>
                    </div>

                    <div class="dynamic-sql-section">
                        <h4>🔹 Dynamic SQL Query</h4>
                        <p>SQL built <strong>at runtime</strong> as a string, offering maximum flexibility for complex conditional queries.</p>
                        
                        <div class="dynamic-characteristics">
                            <h5>📋 Key Characteristics</h5>
                            <ul>
                                <li>Built dynamically based on runtime conditions</li>
                                <li>Flexible query structure</li>
                                <li>Requires <code>EXEC()</code> or <code>sp_executesql</code> to run</li>
                                <li>Can include dynamic table names, columns, filters</li>
                            </ul>
                        </div>

                        <div class="dynamic-example">
                            <h5>👉 Example</h5>
                            <div class="code-example">
                                <pre><code>DECLARE @sql NVARCHAR(MAX);
DECLARE @CustomerID INT = 1;

SET @sql = 'SELECT OrderID, Product, OrderDate, TotalAmount 
            FROM Orders 
            WHERE CustomerID = ' + CAST(@CustomerID AS NVARCHAR) + '
            ORDER BY OrderDate DESC';

EXEC(@sql);</code></pre>
                            </div>
                            
                            <h6>Better approach with sp_executesql:</h6>
                            <div class="code-example">
                                <pre><code>DECLARE @sql NVARCHAR(MAX);
SET @sql = 'SELECT OrderID, Product FROM Orders WHERE CustomerID = @CustID';

EXEC sp_executesql @sql, N'@CustID INT', @CustID = 1;</code></pre>
                            </div>
                        </div>

                        <div class="dynamic-benefits-risks">
                            <div class="dynamic-benefits">
                                <h5>✅ Benefits</h5>
                                <ul>
                                    <li><strong>Flexibility:</strong> Can build queries with dynamic table names, columns</li>
                                    <li><strong>Conditional Logic:</strong> Perfect for search filters with optional conditions</li>
                                    <li><strong>Adaptability:</strong> Can modify query structure at runtime</li>
                                </ul>
                            </div>
                            
                            <div class="dynamic-risks">
                                <h5>❌ Risks</h5>
                                <ul>
                                    <li><strong>Performance:</strong> Slower (no cached plan unless using sp_executesql)</li>
                                    <li><strong>Security:</strong> Prone to SQL Injection if not handled properly</li>
                                    <li><strong>Maintenance:</strong> Harder to debug and maintain</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="comparison-table">
                    <h4>🔑 Comprehensive Comparison</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Stored Procedure (SP)</th>
                                <th>Dynamic Query</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Definition</strong></td>
                                <td>Precompiled SQL block</td>
                                <td>SQL built at runtime</td>
                            </tr>
                            <tr>
                                <td><strong>Performance</strong></td>
                                <td>Faster (cached execution plan)</td>
                                <td>Slower (unless optimized with sp_executesql)</td>
                            </tr>
                            <tr>
                                <td><strong>Security</strong></td>
                                <td>Safer (permissions, parameterization)</td>
                                <td>Risky (SQL injection possible)</td>
                            </tr>
                            <tr>
                                <td><strong>Flexibility</strong></td>
                                <td>Fixed structure</td>
                                <td>Highly flexible</td>
                            </tr>
                            <tr>
                                <td><strong>Maintainability</strong></td>
                                <td>Centralized, easy to maintain</td>
                                <td>Harder to read and debug</td>
                            </tr>
                            <tr>
                                <td><strong>Use Case</strong></td>
                                <td>Repeated logic, business rules</td>
                                <td>Ad-hoc filters, dynamic search</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="analogy-section">
                    <h4>👉 Easy Analogy</h4>
                    <div class="analogy-comparison">
                        <div class="analogy-item sp-analogy">
                            <h5>🍽️ Stored Procedure</h5>
                            <p>Like a <strong>restaurant menu item</strong> - the recipe is fixed, ready, and optimized for quick service.</p>
                        </div>
                        <div class="analogy-item dynamic-analogy">
                            <h5>👨‍🍳 Dynamic Query</h5>
                            <p>Like a <strong>chef making a custom dish</strong> for each order - flexible and personalized, but slower and more prone to mistakes.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Removing Duplicate Records</h3>
                
                <div class="duplicates-intro">
                    <p>Removing duplicate records is a common interview question that tests your knowledge of window functions, CTEs, and SQL optimization techniques.</p>
                </div>

                <div class="sample-data">
                    <h4>📊 Sample Data with Duplicates</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>EmpID</th>
                                <th>Name</th>
                                <th>Dept</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Alice</td>
                                <td>HR</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Bob</td>
                                <td>IT</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Bob</td>
                                <td>IT</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Charlie</td>
                                <td>IT</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Charlie</td>
                                <td>IT</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="duplicate-removal-methods">
                    <div class="method-card preferred">
                        <h4>✅ 1. Using ROW_NUMBER() (Most Preferred)</h4>
                        <p>Add a row number partitioned by duplicate columns, then delete where row > 1.</p>
                        
                        <div class="code-example">
                            <pre><code>WITH DuplicatesCTE AS (
    SELECT *,
           ROW_NUMBER() OVER (PARTITION BY EmpID, Name, Dept ORDER BY EmpID) AS rn
    FROM Employees
)
DELETE FROM DuplicatesCTE WHERE rn > 1;</code></pre>
                        </div>
                        
                        <div class="method-explanation">
                            <p><strong>How it works:</strong> Keeps the first occurrence of each duplicate group, removes the rest.</p>
                        </div>
                    </div>

                    <div class="method-card">
                        <h4>✅ 2. Using RANK() / DENSE_RANK()</h4>
                        <p>Similar to ROW_NUMBER() but handles ties differently.</p>
                        
                        <div class="code-example">
                            <pre><code>WITH RankedCTE AS (
    SELECT *,
           RANK() OVER (PARTITION BY EmpID, Name, Dept ORDER BY EmpID) AS rnk
    FROM Employees
)
DELETE FROM RankedCTE WHERE rnk > 1;</code></pre>
                        </div>
                    </div>

                    <div class="method-card">
                        <h4>✅ 3. Using GROUP BY + MIN/MAX</h4>
                        <p>Keep one record (MIN/MAX ID) and delete others.</p>
                        
                        <div class="code-example">
                            <pre><code>DELETE FROM Employees
WHERE EmpID NOT IN (
    SELECT MIN(EmpID)
    FROM Employees
    GROUP BY Name, Dept
);</code></pre>
                        </div>
                        
                        <div class="method-warning">
                            <p><strong>⚠️ Risk:</strong> May fail with NULLs or if you need to preserve exact duplicates.</p>
                        </div>
                    </div>

                    <div class="method-card">
                        <h4>✅ 4. Using Self-Join</h4>
                        <p>Delete records where a duplicate with a smaller ID exists.</p>
                        
                        <div class="code-example">
                            <pre><code>DELETE e1
FROM Employees e1
INNER JOIN Employees e2
    ON e1.Name = e2.Name
   AND e1.Dept = e2.Dept
   AND e1.EmpID > e2.EmpID;</code></pre>
                        </div>
                        
                        <div class="method-explanation">
                            <p><strong>Logic:</strong> Deletes the "later" duplicates, keeps the ones with smaller IDs.</p>
                        </div>
                    </div>

                    <div class="method-card">
                        <h4>✅ 5. Using DISTINCT into New Table</h4>
                        <p>Create a new table with distinct records, then replace the original.</p>
                        
                        <div class="code-example">
                            <pre><code>SELECT DISTINCT EmpID, Name, Dept
INTO Employees_New
FROM Employees;

-- Replace original table
DROP TABLE Employees;
EXEC sp_rename 'Employees_New', 'Employees';</code></pre>
                        </div>
                        
                        <div class="method-explanation">
                            <p><strong>Use case:</strong> Simple approach, but involves table recreation (heavy operation).</p>
                        </div>
                    </div>

                    <div class="method-card">
                        <h4>✅ 6. Using Temporary Table</h4>
                        <p>Insert distinct records into temp table, then truncate and reload.</p>
                        
                        <div class="code-example">
                            <pre><code>SELECT DISTINCT * INTO #TempEmployees FROM Employees;

TRUNCATE TABLE Employees;

INSERT INTO Employees SELECT * FROM #TempEmployees;

DROP TABLE #TempEmployees;</code></pre>
                        </div>
                    </div>
                </div>

                <div class="methods-comparison">
                    <h4>🔑 Methods Comparison</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ROW_NUMBER()</code></td>
                                <td>Precise, flexible, most commonly used</td>
                                <td>Needs CTE or subquery</td>
                            </tr>
                            <tr>
                                <td><code>GROUP BY + MIN/MAX</code></td>
                                <td>Easy, quick for simple keys</td>
                                <td>May fail with NULLs/complex columns</td>
                            </tr>
                            <tr>
                                <td><code>Self-Join</code></td>
                                <td>Clear logic, keeps lowest ID</td>
                                <td>Slow on large tables</td>
                            </tr>
                            <tr>
                                <td><code>DISTINCT → New Table</code></td>
                                <td>Very simple, works always</td>
                                <td>Rebuilds table (heavy operation)</td>
                            </tr>
                            <tr>
                                <td>Temp Table</td>
                                <td>Easy for small datasets</td>
                                <td>Not efficient for large tables</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="interview-tip-duplicates">
                    <h4>👉 Interview Tip</h4>
                    <p>Start with <strong>ROW_NUMBER()</strong> as it's the best practice, then mention alternatives based on the scenario (performance requirements, table size, need to preserve constraints). Always consider the trade-offs between performance, complexity, and data integrity.</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Window Functions: ROW_NUMBER vs RANK vs DENSE_RANK</h3>
                
                <div class="window-functions-intro">
                    <p>Understanding the differences between window functions is crucial for ranking, pagination, and data analysis scenarios in enterprise applications.</p>
                </div>

                <div class="window-functions-comparison">
                    <div class="function-explanation row-number-exp">
                        <h4>🔹 ROW_NUMBER()</h4>
                        <p>Assigns a <strong>unique sequential number</strong> to each row within a partition, even for tied values.</p>
                        
                        <div class="function-characteristics">
                            <h5>📋 Key Characteristics</h5>
                            <ul>
                                <li>Always assigns unique numbers (no duplicates)</li>
                                <li>Even tied values get different numbers</li>
                                <li>Always increments by 1</li>
                                <li>Perfect for pagination and deduplication</li>
                            </ul>
                        </div>

                        <div class="function-example">
                            <h5>👉 Example</h5>
                            <div class="code-example">
                                <pre><code>SELECT Name, Dept,
       ROW_NUMBER() OVER (PARTITION BY Dept ORDER BY Name) AS RowNum
FROM Employees;</code></pre>
                            </div>
                            
                            <h6>Result (Dept = IT):</h6>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Dept</th>
                                        <th>RowNum</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bob</td>
                                        <td>IT</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>2</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>3</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>✅ Notice:</strong> Both Charlie entries get different numbers (2, 3) - no ties allowed.</p>
                        </div>
                    </div>

                    <div class="function-explanation rank-exp">
                        <h4>🔹 RANK()</h4>
                        <p>Assigns the <strong>same rank</strong> to equal values but <strong>skips subsequent numbers</strong> (creates gaps).</p>
                        
                        <div class="function-characteristics">
                            <h5>📋 Key Characteristics</h5>
                            <ul>
                                <li>Tied values receive the same rank</li>
                                <li>Skips numbers after ties (creates gaps)</li>
                                <li>Good for competitive rankings</li>
                                <li>Next rank jumps by the number of ties</li>
                            </ul>
                        </div>

                        <div class="function-example">
                            <h5>👉 Example</h5>
                            <div class="code-example">
                                <pre><code>SELECT Name, Dept,
       RANK() OVER (PARTITION BY Dept ORDER BY Name) AS Rnk
FROM Employees;</code></pre>
                            </div>
                            
                            <h6>Result (Dept = IT):</h6>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Dept</th>
                                        <th>Rnk</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bob</td>
                                        <td>IT</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>2</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>2</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>✅ Tie:</strong> Both Charlies get rank 2, next rank would be 4 (skips 3).</p>
                        </div>
                    </div>

                    <div class="function-explanation dense-rank-exp">
                        <h4>🔹 DENSE_RANK()</h4>
                        <p>Same as RANK() but with <strong>no gaps</strong> after ties - consecutive ranking.</p>
                        
                        <div class="function-characteristics">
                            <h5>📋 Key Characteristics</h5>
                            <ul>
                                <li>Tied values receive the same rank</li>
                                <li>No gaps in ranking sequence</li>
                                <li>Continuous numbering after ties</li>
                                <li>Good for category-based rankings</li>
                            </ul>
                        </div>

                        <div class="function-example">
                            <h5>👉 Example</h5>
                            <div class="code-example">
                                <pre><code>SELECT Name, Dept,
       DENSE_RANK() OVER (PARTITION BY Dept ORDER BY Name) AS DRnk
FROM Employees;</code></pre>
                            </div>
                            
                            <h6>Result (Dept = IT):</h6>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Dept</th>
                                        <th>DRnk</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bob</td>
                                        <td>IT</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>2</td>
                                    </tr>
                                    <tr>
                                        <td>Charlie</td>
                                        <td>IT</td>
                                        <td>2</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <p><strong>✅ Tie:</strong> Both Charlies get rank 2, next rank will be 3 (no skip).</p>
                        </div>
                    </div>
                </div>

                <div class="functions-summary">
                    <h4>🔑 Functions Summary</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Function</th>
                                <th>Handles Ties</th>
                                <th>Numbers Skipped?</th>
                                <th>Example Output</th>
                                <th>Best Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ROW_NUMBER()</strong></td>
                                <td>❌ No</td>
                                <td>Never</td>
                                <td>1, 2, 3</td>
                                <td>Pagination, Deduplication</td>
                            </tr>
                            <tr>
                                <td><strong>RANK()</strong></td>
                                <td>✅ Yes</td>
                                <td>Yes (gaps)</td>
                                <td>1, 2, 2, 4</td>
                                <td>Sports Rankings, Competitions</td>
                            </tr>
                            <tr>
                                <td><strong>DENSE_RANK()</strong></td>
                                <td>✅ Yes</td>
                                <td>No (continuous)</td>
                                <td>1, 2, 2, 3</td>
                                <td>Category Rankings, Grades</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="practical-analogies">
                    <h4>👉 Easy Analogies</h4>
                    <div class="analogies-grid">
                        <div class="analogy-card">
                            <h5>🎓 ROW_NUMBER()</h5>
                            <p><strong>Student Roll Numbers:</strong> Every student gets a unique roll number in class, even if they have the same name.</p>
                        </div>
                        
                        <div class="analogy-card">
                            <h5>🏃‍♂️ RANK()</h5>
                            <p><strong>Race Prizes:</strong> If 2 people tie for 2nd place, both get 2nd prize, but the next person gets 4th place (3rd is skipped).</p>
                        </div>
                        
                        <div class="analogy-card">
                            <h5>🏆 DENSE_RANK()</h5>
                            <p><strong>Grade Levels:</strong> If 2 students tie for Grade A, both get Grade A, but the next grade is Grade B (no skipping).</p>
                        </div>
                    </div>
                </div>

                <div class="real-world-scenarios">
                    <h4>🌍 Real-World Scenarios</h4>
                    
                    <div class="scenarios-grid">
                        <div class="scenario-card">
                            <h5>📄 When to use ROW_NUMBER()</h5>
                            <ul>
                                <li><strong>Pagination:</strong> Creating page numbers for web results</li>
                                <li><strong>Deduplication:</strong> Removing duplicate records</li>
                                <li><strong>Sequential Processing:</strong> Assigning unique identifiers</li>
                                <li><strong>Report Line Numbers:</strong> Adding row numbers to reports</li>
                            </ul>
                        </div>
                        
                        <div class="scenario-card">
                            <h5>🏆 When to use RANK()</h5>
                            <ul>
                                <li><strong>Sports Leaderboards:</strong> Tournament rankings with ties</li>
                                <li><strong>Sales Performance:</strong> Top salespeople with tied performance</li>
                                <li><strong>Academic Rankings:</strong> Student rankings by GPA</li>
                                <li><strong>Competition Results:</strong> Where ties affect subsequent positions</li>
                            </ul>
                        </div>
                        
                        <div class="scenario-card">
                            <h5>🎯 When to use DENSE_RANK()</h5>
                            <ul>
                                <li><strong>Category Rankings:</strong> Product ratings within categories</li>
                                <li><strong>Grade Distributions:</strong> Student grades (A, B, C)</li>
                                <li><strong>Priority Levels:</strong> Task priorities (High, Medium, Low)</li>
                                <li><strong>Continuous Scoring:</strong> Where gaps don't make sense</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Entity Framework Core</h3>
                <div class="ef-content">
                    <h4>Code First Approach</h4>
                    <div class="code-example">
                        <pre><code>public class BlogContext : DbContext {
    public DbSet&lt;Blog&gt; Blogs { get; set; }
    public DbSet&lt;Post&gt; Posts { get; set; }
}</code></pre>
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 SQL Server Interview-Ready Summary</h4>
                    <p>"SQL Server is the backbone of most enterprise .NET applications. I use tables, indexing, stored procedures, and transactions to ensure data integrity and performance. I'm comfortable with ACID properties for reliable transactions, tuning queries with execution plans, designing normalized schemas, using advanced features like CTEs and window functions, and handling large data volumes with proper pagination and bulk operations. I also work closely with ORMs like Entity Framework and know when to drop down to raw SQL or stored procedures for optimization, always following security best practices to prevent SQL injection."</p>
                </div>
            </div>
        </section>

        <section id="enterprise-architecture" class="topic-section">
            <h2>Enterprise Application Architecture</h2>
            
            <div class="concept-card">
                <h3>Layered Architecture</h3>
                <div class="architecture-layers">
                    <div class="layer">
                        <h4>Presentation Layer</h4>
                        <p>Controllers, Views, API endpoints</p>
                    </div>
                    <div class="layer">
                        <h4>Business Logic Layer</h4>
                        <p>Services, business rules, validation</p>
                    </div>
                    <div class="layer">
                        <h4>Data Access Layer</h4>
                        <p>Repositories, Entity Framework, database operations</p>
                    </div>
                    <div class="layer">
                        <h4>Database Layer</h4>
                        <p>SQL Server, stored procedures, data storage</p>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Integration Patterns</h3>
                <ul class="integration-list">
                    <li><strong>APIs:</strong> REST/GraphQL for system communication</li>
                    <li><strong>Message Queues:</strong> Azure Service Bus for async processing</li>
                    <li><strong>ETL Jobs:</strong> Data transformation between systems</li>
                    <li><strong>Event-Driven:</strong> Microservices communication</li>
                </ul>
            </div>
        </section>

        <section id="cloud-azure" class="topic-section">
            <h2>Cloud (Azure) & Modernization</h2>
            
            <div class="concept-card">
                <h3>Azure Services for .NET</h3>
                <div class="azure-services">
                    <div class="service">
                        <h4>Azure App Service</h4>
                        <p>Host web applications and APIs with auto-scaling</p>
                    </div>
                    <div class="service">
                        <h4>Azure SQL Database</h4>
                        <p>Managed SQL Server in the cloud</p>
                    </div>
                    <div class="service">
                        <h4>Azure Functions</h4>
                        <p>Serverless computing for scheduled tasks</p>
                    </div>
                    <div class="service">
                        <h4>Azure Service Bus</h4>
                        <p>Message queuing for decoupled systems</p>
                    </div>
                    <div class="service">
                        <h4>Azure Active Directory</h4>
                        <p>Identity and access management</p>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Migration Strategies</h3>
                <ul>
                    <li><strong>Lift and Shift:</strong> Move existing apps to cloud VMs</li>
                    <li><strong>Re-platform:</strong> Move to Azure App Service with minimal changes</li>
                    <li><strong>Refactor:</strong> Redesign for cloud-native features</li>
                    <li><strong>Hybrid:</strong> Keep some components on-premises, others in cloud</li>
                </ul>
            </div>
        </section>

        <section id="memory-management" class="topic-section">
            <h2>Memory Management & Garbage Collection</h2>
            
            <div class="concept-card">
                <h3>Understanding .NET Garbage Collection</h3>
                <div class="gc-overview">
                    <p>The .NET Garbage Collector automatically frees up memory by cleaning up objects that your application is no longer using. It's <strong>heap-wide, not per object or per class</strong>.</p>
                </div>
                
                <div class="gc-process">
                    <h4>How Garbage Collection Works</h4>
                    <div class="gc-steps">
                        <div class="gc-step">
                            <h5>1. Roots & Reachability</h5>
                            <p>GC starts from <em>roots</em>:</p>
                            <ul>
                                <li>Local variables in running methods</li>
                                <li>Static fields</li>
                                <li>CPU registers</li>
                                <li>Application threads</li>
                            </ul>
                        </div>
                        
                        <div class="gc-step">
                            <h5>2. Mark Phase</h5>
                            <p>GC walks from roots, marking all reachable objects (directly or indirectly referenced)</p>
                        </div>
                        
                        <div class="gc-step">
                            <h5>3. Sweep Phase</h5>
                            <p>Any object <strong>not marked</strong> (unreachable) is considered "garbage" and eligible for collection</p>
                        </div>
                        
                        <div class="gc-step">
                            <h5>4. Compacting</h5>
                            <p>GC compacts memory (removes gaps left by deleted objects), improving memory locality</p>
                        </div>
                    </div>
                </div>

                <div class="gc-circular-references">
                    <h4>Handling Object Relationships & Circular References</h4>
                    <div class="code-example">
                        <pre><code>public class Order 
{ 
    public Invoice LinkedInvoice { get; set; } 
}

public class Invoice 
{ 
    public Order LinkedOrder { get; set; } 
}

// If both objects only reference each other, 
// but nothing else references them from roots,
// GC will collect BOTH objects automatically</code></pre>
                    </div>
                    <div class="example">
                        <h4>Key Point:</h4>
                        <p>If objects are <strong>only referencing each other</strong> but are not reachable from any root, the entire group is eligible for cleanup. .NET GC handles circular references automatically.</p>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Generational Garbage Collection Deep Dive</h3>
                <div class="gc-concept-intro">
                    <p>The .NET GC is <strong>generational</strong>—it divides the heap into three generations to manage objects based on their lifespan. The core principle: <em>most objects die young, so clean them up quickly and often; older objects are collected less frequently.</em></p>
                </div>

                <div class="gc-generations">
                    <div class="generation">
                        <h4>Generation 0 (Gen 0)</h4>
                        <div class="gen-content">
                            <p><strong>Where new objects are allocated</strong> (short-lived)</p>
                            <div class="gen-details">
                                <h5>Enterprise Examples:</h5>
                                <ul>
                                    <li>Temporary data structures in web API calls</li>
                                    <li>Request/response models</li>
                                    <li>String concatenations, quick calculations</li>
                                    <li>Local variables in methods</li>
                                </ul>
                                <div class="gen-behavior">
                                    <strong>GC Behavior:</strong> Most frequent, fastest collections. Triggered when Gen 0 fills up.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="generation">
                        <h4>Generation 1 (Gen 1)</h4>
                        <div class="gen-content">
                            <p><strong>Buffer zone</strong> between short-lived and long-lived objects</p>
                            <div class="gen-details">
                                <h5>Enterprise Examples:</h5>
                                <ul>
                                    <li>Collections/data structures living across a few requests</li>
                                    <li>Objects used during batch processing</li>
                                    <li>Workflow step objects</li>
                                    <li>Session-scoped data</li>
                                </ul>
                                <div class="gen-behavior">
                                    <strong>GC Behavior:</strong> Less frequent than Gen 0, more frequent than Gen 2.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="generation">
                        <h4>Generation 2 (Gen 2)</h4>
                        <div class="gen-content">
                            <p><strong>Long-lived objects</strong> (application lifetime)</p>
                            <div class="gen-details">
                                <h5>Enterprise Examples:</h5>
                                <ul>
                                    <li>Application-wide singletons</li>
                                    <li>Configuration caches, logging services</li>
                                    <li>Static/global objects</li>
                                    <li>Large in-memory caches, connection pools</li>
                                </ul>
                                <div class="gen-behavior">
                                    <strong>GC Behavior:</strong> Least frequent (full GC), most expensive in terms of pause time.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="object-promotion">
                    <h4>📈 Object Promotion Flow</h4>
                    <div class="promotion-flow">
                        <div class="promotion-step">
                            <div class="step-box">New Object</div>
                            <div class="arrow">→</div>
                            <div class="step-box gen0">Gen 0</div>
                        </div>
                        <div class="promotion-step">
                            <div class="step-box gen0">Survives Collection</div>
                            <div class="arrow">→</div>
                            <div class="step-box gen1">Gen 1</div>
                        </div>
                        <div class="promotion-step">
                            <div class="step-box gen1">Survives Again</div>
                            <div class="arrow">→</div>
                            <div class="step-box gen2">Gen 2</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>How GC Traversal Actually Works</h3>
                <div class="gc-traversal-key">
                    <h4>🔑 Key Point</h4>
                    <p>Garbage Collection does <strong>NOT always traverse all generations</strong> every time. It usually only collects the youngest generation that's full (typically Gen 0), unless memory pressure requires checking older generations.</p>
                </div>

                <div class="gc-collection-types">
                    <div class="collection-type">
                        <h4>Minor Collection (Gen 0 Only)</h4>
                        <div class="collection-scenario">
                            <h5>When: Gen 0 is full</h5>
                            <div class="collection-steps">
                                <div class="step">1. GC scans Gen 0 for live objects</div>
                                <div class="step">2. Dead objects are collected (memory reclaimed)</div>
                                <div class="step">3. Surviving objects are promoted to Gen 1</div>
                                <div class="step">4. Gen 1 and Gen 2 are <strong>not touched</strong></div>
                            </div>
                        </div>
                    </div>

                    <div class="collection-type">
                        <h4>Gen 1 Collection (Gen 0 + Gen 1)</h4>
                        <div class="collection-scenario">
                            <h5>When: Not enough memory after Gen 0 collection</h5>
                            <div class="collection-steps">
                                <div class="step">1. GC traverses Gen 0 and Gen 1</div>
                                <div class="step">2. Collects dead objects in both generations</div>
                                <div class="step">3. Live objects in Gen 1 promoted to Gen 2</div>
                                <div class="step">4. Gen 2 remains untouched</div>
                            </div>
                        </div>
                    </div>

                    <div class="collection-type">
                        <h4>Full Collection (All Generations)</h4>
                        <div class="collection-scenario">
                            <h5>When: High memory pressure or explicit request</h5>
                            <div class="collection-steps">
                                <div class="step">1. GC traverses all three generations</div>
                                <div class="step">2. Collects dead objects across entire heap</div>
                                <div class="step">3. Most expensive operation</div>
                                <div class="step">4. Longest application pause</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="gc-example-scenario">
                    <h4>🎯 Real-World Example</h4>
                    <div class="scenario-description">
                        <p><strong>Starting State:</strong></p>
                        <ul>
                            <li>Gen 0: 10 objects (8 dead, 2 alive)</li>
                            <li>Gen 1: 5 objects (2 dead, 3 alive)</li>
                            <li>Gen 2: 3 objects (all alive)</li>
                        </ul>
                    </div>

                    <div class="gc-results-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Generation</th>
                                    <th>Before GC</th>
                                    <th>After Minor GC</th>
                                    <th>After Gen 1 GC</th>
                                    <th>After Full GC</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Gen 0</strong></td>
                                    <td>10 objects</td>
                                    <td>0 (2 promoted to Gen 1)</td>
                                    <td>0</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td><strong>Gen 1</strong></td>
                                    <td>5 objects</td>
                                    <td>7 (5 + 2 from Gen 0)</td>
                                    <td>0 (3 promoted to Gen 2)</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td><strong>Gen 2</strong></td>
                                    <td>3 objects</td>
                                    <td>3 (unchanged)</td>
                                    <td>6 (3 + 3 from Gen 1)</td>
                                    <td>6 (if all still alive)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="gc-frequency-summary">
                    <h4>📊 Collection Frequency Summary</h4>
                    <div class="frequency-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Collection Type</th>
                                    <th>What's Collected</th>
                                    <th>When It Happens</th>
                                    <th>Performance Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Gen 0 (Minor)</strong></td>
                                    <td>Only Gen 0</td>
                                    <td>Most frequent</td>
                                    <td>Minimal pause</td>
                                </tr>
                                <tr>
                                    <td><strong>Gen 1</strong></td>
                                    <td>Gen 0 + Gen 1</td>
                                    <td>When Gen 1 fills up</td>
                                    <td>Short pause</td>
                                </tr>
                                <tr>
                                    <td><strong>Gen 2 (Full)</strong></td>
                                    <td>All generations</td>
                                    <td>High memory pressure</td>
                                    <td>Longest pause</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"In .NET, the GC primarily collects only the youngest generation that's full, not all generations every time. Only when necessary—like under memory pressure—does it traverse and collect higher generations. Surviving objects get promoted to the next generation. This keeps memory management fast and efficient for most enterprise workloads."</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Managed vs Unmanaged Resources</h3>
                
                <div class="resource-comparison">
                    <div class="resource-type managed">
                        <h4>🔵 Managed Resources</h4>
                        <div class="resource-details">
                            <p><strong>Definition:</strong> Objects and memory allocated and controlled by the .NET runtime (CLR)</p>
                            <h5>Examples:</h5>
                            <ul>
                                <li>C# objects (classes, arrays, collections)</li>
                                <li>Memory on the managed heap</li>
                                <li>References between .NET objects</li>
                                <li>String objects, List&lt;T&gt;, custom classes</li>
                            </ul>
                            <div class="cleanup-info">
                                <strong>Cleanup:</strong> Garbage Collector automatically tracks and frees when no longer in use
                            </div>
                        </div>
                    </div>

                    <div class="resource-type unmanaged">
                        <h4>🔴 Unmanaged Resources</h4>
                        <div class="resource-details">
                            <p><strong>Definition:</strong> Resources outside the control of the .NET runtime—provided by OS or native libraries</p>
                            <h5>Examples:</h5>
                            <ul>
                                <li>File handles (FileStream opens files)</li>
                                <li>Database connections (SqlConnection)</li>
                                <li>Network sockets, window handles</li>
                                <li>Memory allocated by C/C++ (via interop)</li>
                                <li>Images, printer handles, COM objects</li>
                            </ul>
                            <div class="cleanup-info critical">
                                <strong>Cleanup:</strong> Must be explicitly released using IDisposable pattern
                            </div>
                        </div>
                    </div>
                </div>

                <div class="why-gc-cant-cleanup">
                    <h4>❓ Why Can't GC Clean Up Everything Automatically?</h4>
                    <div class="gc-limitations">
                        <div class="limitation">
                            <h5>1. Lack of Awareness</h5>
                            <p>The CLR and GC <strong>don't know</strong> what native resources your object is holding or how to release them. Only you know how to close a Windows file handle via WinAPI.</p>
                        </div>
                        
                        <div class="limitation">
                            <h5>2. Resource Ownership</h5>
                            <p>OS-level handles, DB connections, and other resources are <strong>outside .NET's memory model</strong>. Only explicit calls like <code>.Close()</code> or <code>.Dispose()</code> can tell the OS to release them.</p>
                        </div>
                        
                        <div class="limitation">
                            <h5>3. Timing and Predictability</h5>
                            <p>GC is <strong>non-deterministic</strong>—it may run minutes after an object is no longer referenced. Unmanaged resources are usually <strong>scarce and critical</strong>, so they must be released immediately to avoid:</p>
                            <ul>
                                <li>File locks preventing other processes</li>
                                <li>Database connection pool exhaustion</li>
                                <li>Orphaned sockets and memory leaks</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="idisposable-pattern">
                    <h4>🛠️ The IDisposable Pattern</h4>
                    <div class="pattern-explanation">
                        <p>Types that hold unmanaged resources (e.g., FileStream, SqlConnection) implement <code>IDisposable</code>. When you call <code>.Dispose()</code> or use a <code>using</code> block, the resource is released immediately.</p>
                    </div>

                    <div class="code-example">
                        <pre><code>// Deterministic cleanup with using statement
using (var fileStream = new FileStream("data.txt", FileMode.Open))
{
    // File handle is automatically disposed
    // even if an exception occurs
} // Dispose() called here automatically

// C# 8+ using declarations
using var connection = new SqlConnection(connectionString);
await connection.OpenAsync();
// Disposed at end of scope automatically</code></pre>
                    </div>

                    <div class="finalizer-warning">
                        <h5>⚠️ Finalizers as Backup</h5>
                        <p>If you forget to dispose, a <strong>finalizer</strong> (<code>~ClassName()</code>) might release the resource eventually, but this is slow and unreliable—<strong>always dispose deterministically</strong>.</p>
                    </div>
                </div>

                <div class="resource-comparison-table">
                    <h4>📊 Resource Comparison</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Managed Resource</th>
                                <th>Unmanaged Resource</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Example</strong></td>
                                <td>List&lt;T&gt;, string, custom class</td>
                                <td>File handle, DB connection, socket, image</td>
                            </tr>
                            <tr>
                                <td><strong>Cleaned by</strong></td>
                                <td>Garbage Collector</td>
                                <td>Must be disposed explicitly (Dispose())</td>
                            </tr>
                            <tr>
                                <td><strong>Memory only?</strong></td>
                                <td>Yes</td>
                                <td>No—often OS or hardware resource</td>
                            </tr>
                            <tr>
                                <td><strong>Deterministic?</strong></td>
                                <td>No (GC runs when it wants)</td>
                                <td>Yes, with using or Dispose()</td>
                            </tr>
                            <tr>
                                <td><strong>Performance Impact</strong></td>
                                <td>Minimal (handled by GC)</td>
                                <td>Critical (resource leaks if not disposed)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="concept-card">
                <h3>Singletons and Garbage Collection</h3>
                
                <div class="singleton-gc-intro">
                    <p>Understanding how <strong>singleton services in Dependency Injection</strong> interact with garbage collection is crucial for enterprise applications with long-running processes.</p>
                </div>

                <div class="singleton-lifecycle">
                    <h4>🔄 Singleton Lifecycle in DI</h4>
                    <div class="lifecycle-explanation">
                        <p>In ASP.NET Core DI, a <strong>singleton</strong> service is created <strong>once per application lifetime</strong> and shared everywhere it's injected.</p>
                        
                        <div class="code-example">
                            <pre><code>// Registration
services.AddSingleton&lt;IMyService, MyService&gt;();

// The same instance is injected everywhere</code></pre>
                        </div>
                    </div>

                    <div class="gc-singleton-interaction">
                        <h5>How GC Handles Singleton Services</h5>
                        <div class="interaction-points">
                            <div class="interaction-point">
                                <strong>1. Strong Reference:</strong> The DI container holds a strong reference to the singleton instance for the entire app lifetime
                            </div>
                            <div class="interaction-point">
                                <strong>2. GC Protection:</strong> As long as the container is alive (app is running), the singleton <strong>cannot be garbage collected</strong>
                            </div>
                            <div class="interaction-point">
                                <strong>3. Memory Pinning:</strong> GC only collects objects with no live references—the DI container "pins" the singleton in memory
                            </div>
                        </div>
                    </div>
                </div>

                <div class="singleton-shutdown">
                    <h4>🔚 Application Shutdown Process</h4>
                    <div class="shutdown-steps">
                        <div class="shutdown-step">
                            <h5>1. DI Container Disposal</h5>
                            <p>When the application shuts down, the DI container itself is disposed</p>
                        </div>
                        <div class="shutdown-step">
                            <h5>2. Singleton Cleanup</h5>
                            <p>All singleton services that implement <code>IDisposable</code> have their <code>Dispose()</code> method called</p>
                        </div>
                        <div class="shutdown-step">
                            <h5>3. GC Eligibility</h5>
                            <p>After disposal, references are dropped and the singleton becomes eligible for garbage collection</p>
                        </div>
                    </div>
                </div>

                <div class="singleton-example">
                    <h4>💡 Enterprise Example</h4>
                    <div class="code-example">
                        <pre><code>public class DatabaseConnectionManager : IDisposable
{
    private readonly SqlConnection _connection;
    private readonly ILogger&lt;DatabaseConnectionManager&gt; _logger;

    public DatabaseConnectionManager(IConfiguration config, ILogger&lt;DatabaseConnectionManager&gt; logger)
    {
        _logger = logger;
        _connection = new SqlConnection(config.GetConnectionString("Default"));
        _connection.Open();
        _logger.LogInformation("Database connection opened for application lifetime");
    }

    public async Task&lt;T&gt; ExecuteQueryAsync&lt;T&gt;(string query)
    {
        // Use the long-lived connection
        // This connection stays open for the entire app lifetime
        return await SomeQueryMethod&lt;T&gt;(query);
    }

    public void Dispose()
    {
        _logger.LogInformation("Disposing database connection at application shutdown");
        _connection?.Dispose();
    }
}

// Registration
services.AddSingleton&lt;DatabaseConnectionManager&gt;();</code></pre>
                    </div>
                    
                    <div class="example-explanation">
                        <ul>
                            <li>When the app starts, one instance is created and connection opened</li>
                            <li>The GC cannot collect this service until app shutdown</li>
                            <li>At shutdown, <code>Dispose()</code> is called, DB connection is released</li>
                            <li>Only then can GC clean up the object</li>
                        </ul>
                    </div>
                </div>

                <div class="singleton-best-practices">
                    <h4>⚠️ Enterprise Considerations</h4>
                    <div class="considerations">
                        <div class="consideration">
                            <h5>Resource Usage</h5>
                            <p><strong>Don't hold large objects</strong> in a singleton (e.g., huge caches) unless you mean for them to live for the whole app's lifetime.</p>
                        </div>
                        
                        <div class="consideration">
                            <h5>Memory Leaks</h5>
                            <p>If a singleton holds references to other objects (or events), those will also stay alive as long as the singleton lives. Avoid using singletons for request- or user-specific data.</p>
                        </div>
                        
                        <div class="consideration">
                            <h5>Dispose Pattern</h5>
                            <p>If your singleton holds unmanaged resources, <strong>always implement IDisposable</strong> and release those resources in <code>Dispose()</code>.</p>
                        </div>
                    </div>
                </div>

                <div class="di-lifetime-comparison">
                    <h4>📊 DI Lifetime Comparison</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Lifetime</th>
                                <th>Singleton Service</th>
                                <th>Regular Object</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Lifetime</strong></td>
                                <td>App-wide (held by DI container)</td>
                                <td>Variable (local, transient)</td>
                            </tr>
                            <tr>
                                <td><strong>Collected by GC</strong></td>
                                <td>Only after DI container disposed</td>
                                <td>When no references exist</td>
                            </tr>
                            <tr>
                                <td><strong>Dispose() Called</strong></td>
                                <td>At app shutdown (if IDisposable)</td>
                                <td>When out of scope (if used in using)</td>
                            </tr>
                            <tr>
                                <td><strong>Memory Impact</strong></td>
                                <td>Persistent for entire app lifetime</td>
                                <td>Released when scope ends</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"Singleton DI services in .NET Core live for the entire application lifetime because the DI container holds a strong reference to them. The garbage collector can't reclaim their memory until the application stops and the DI container is disposed, at which point any IDisposable singletons are also disposed. That's why it's crucial to use singletons only for truly shared resources and to clean up unmanaged resources properly in Dispose()."</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Memory Management Best Practices</h3>
                
                <div class="memory-practices">
                    <div class="practice">
                        <h4>❌ Avoid Manual GC.Collect()</h4>
                        <p>Not recommended in enterprise apps unless you have a very specific performance reason. The GC is optimized to run automatically.</p>
                    </div>
                    
                    <div class="practice">
                        <h4>✅ Use IDisposable for Unmanaged Resources</h4>
                        <div class="code-example">
                            <pre><code>using (var fileStream = new FileStream("data.txt", FileMode.Open))
{
    // File handle is automatically disposed
    // even if an exception occurs
}

// Or with using declarations (C# 8+)
using var connection = new SqlConnection(connectionString);
// Disposed at end of scope</code></pre>
                        </div>
                        <p><strong>Use for:</strong> File handles, database connections, network sockets—not for regular object memory.</p>
                    </div>
                    
                    <div class="practice">
                        <h4>✅ Remove References When Done</h4>
                        <div class="code-example">
                            <pre><code>// Instead of keeping large collections in memory
private static List&lt;Order&gt; _processedOrders = new();

// Clear when no longer needed
public void CompleteProcessing()
{
    // Process orders...
    _processedOrders.Clear(); // Allow GC to collect
    _processedOrders = null;  // Remove reference entirely
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="practice">
                        <h4>⚠️ Watch for Memory Leaks</h4>
                        <ul>
                            <li><strong>Event handlers:</strong> Unsubscribe from events</li>
                            <li><strong>Static collections:</strong> Clear when no longer needed</li>
                            <li><strong>Caching:</strong> Implement cache expiration</li>
                            <li><strong>Timers:</strong> Dispose properly</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Enterprise Memory Management Scenarios</h3>
                
                <div class="enterprise-scenarios">
                    <div class="scenario">
                        <h4>High-Traffic Web APIs</h4>
                        <p>Request/response objects are automatically managed by GC. Focus on not holding references to request data beyond the request scope.</p>
                    </div>
                    
                    <div class="scenario">
                        <h4>Background Services</h4>
                        <p>Long-running services should be careful about accumulating objects in static collections or event handlers that never get cleared.</p>
                    </div>
                    
                    <div class="scenario">
                        <h4>Data Processing Applications</h4>
                        <p>When processing large datasets, process in chunks and allow intermediate objects to be collected between batches.</p>
                    </div>
                </div>
            </div>

            <div class="interview-tips">
                <h4>🎯 Interview-Ready Summary</h4>
                <p>".NET's garbage collector periodically scans the managed heap for objects that are no longer reachable from application roots (like local variables, static fields, or threads). It works by marking all reachable objects, then collecting everything else—even if those unreachable objects reference each other. The process operates across the heap in generations, which makes memory management efficient and automatic for enterprise applications."</p>
            </div>
        </section>

        <section id="advanced-concepts" class="topic-section">
            <h2>Advanced Concepts</h2>
            
            <div class="concept-card">
                <h3>Exception Handling (Try-Catch-Finally)</h3>
                
                <div class="exception-intro">
                    <p>Proper exception handling is crucial in enterprise applications for maintaining system stability, logging errors, and providing graceful degradation of functionality.</p>
                </div>

                <div class="exception-flow">
                    <h4>📋 Exception Handling Flow</h4>
                    <div class="flow-blocks">
                        <div class="flow-block try-block">
                            <h5>try Block</h5>
                            <p>Contains code that <em>might throw</em> an exception</p>
                            <ul>
                                <li>Database access</li>
                                <li>File I/O operations</li>
                                <li>External API calls</li>
                                <li>Network operations</li>
                            </ul>
                        </div>
                        
                        <div class="flow-arrow">→</div>
                        
                        <div class="flow-block catch-block">
                            <h5>catch Block</h5>
                            <p>Handles the exception when it occurs</p>
                            <ul>
                                <li>Logging errors</li>
                                <li>Returning safe responses</li>
                                <li>Implementing retry logic</li>
                                <li>Graceful degradation</li>
                            </ul>
                        </div>
                        
                        <div class="flow-arrow">→</div>
                        
                        <div class="flow-block finally-block">
                            <h5>finally Block</h5>
                            <p>Code that <strong>always runs</strong></p>
                            <ul>
                                <li>Closing connections</li>
                                <li>Releasing resources</li>
                                <li>Cleanup operations</li>
                                <li>Logging completion</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="enterprise-example">
                    <h4>🏢 Enterprise Example: Database Repository</h4>
                    <div class="code-example">
                        <pre><code>public async Task&lt;bool&gt; UpdateCustomerAsync(int customerId, string newName)
{
    SqlConnection connection = null;
    try
    {
        connection = new SqlConnection(_connectionString);
        await connection.OpenAsync();

        // Database operation that might throw
        var command = new SqlCommand(
            "UPDATE Customers SET Name = @Name WHERE Id = @Id", 
            connection);
        command.Parameters.AddWithValue("@Name", newName);
        command.Parameters.AddWithValue("@Id", customerId);
        
        int rowsAffected = await command.ExecuteNonQueryAsync();
        
        _logger.LogInformation("Customer {CustomerId} updated successfully", customerId);
        return rowsAffected > 0;
    }
    catch (SqlException ex)
    {
        // Handle database-specific errors
        _logger.LogError(ex, "Database error updating customer {CustomerId}", customerId);
        
        // Decide whether to re-throw or return failure
        if (ex.Number == 2) // Timeout
        {
            throw new TimeoutException("Database operation timed out", ex);
        }
        
        return false;
    }
    catch (Exception ex)
    {
        // Handle any other unexpected errors
        _logger.LogError(ex, "Unexpected error updating customer {CustomerId}", customerId);
        throw; // Re-throw to preserve stack trace
    }
    finally
    {
        // Always cleanup - runs whether exception occurred or not
        if (connection != null)
        {
            await connection.DisposeAsync();
            _logger.LogDebug("Database connection closed");
        }
    }
}</code></pre>
                    </div>
                </div>

                <div class="modern-patterns">
                    <h4>🆕 Modern Exception Handling Patterns</h4>
                    
                    <div class="pattern-comparison">
                        <div class="pattern-old">
                            <h5>Traditional Approach</h5>
                            <div class="code-example">
                                <pre><code>SqlConnection conn = null;
try
{
    conn = new SqlConnection(connString);
    conn.Open();
    // Database operations
}
catch (SqlException ex)
{
    // Handle error
}
finally
{
    conn?.Dispose(); // Manual cleanup
}</code></pre>
                            </div>
                        </div>

                        <div class="pattern-modern">
                            <h5>Modern Approach (using statement)</h5>
                            <div class="code-example">
                                <pre><code>try
{
    using var connection = new SqlConnection(connString);
    await connection.OpenAsync();
    // Database operations
} // Dispose called automatically, even if exception occurs
catch (SqlException ex)
{
    _logger.LogError(ex, "Database operation failed");
    throw; // Re-throw with preserved stack trace
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="using-advantage">
                        <p><strong>Advantage:</strong> The <code>using</code> statement automatically expands to a try-finally block, ensuring proper disposal even if exceptions occur.</p>
                    </div>
                </div>

                <div class="exception-scenarios">
                    <h4>🎯 Exception Handling Scenarios</h4>
                    
                    <div class="scenario-grid">
                        <div class="scenario">
                            <h5>✅ With Catch Block</h5>
                            <p><strong>Result:</strong> Exception is handled, application continues</p>
                            <div class="code-example">
                                <pre><code>try
{
    // Risky operation
    int result = 10 / 0;
}
catch (DivideByZeroException ex)
{
    _logger.LogError(ex, "Division by zero occurred");
    // Application continues here
}</code></pre>
                            </div>
                        </div>

                        <div class="scenario">
                            <h5>❌ Without Catch Block</h5>
                            <p><strong>Result:</strong> Exception bubbles up, may crash application</p>
                            <div class="code-example">
                                <pre><code>try
{
    // Risky operation
    int result = 10 / 0; // DivideByZeroException
}
finally
{
    Console.WriteLine("Cleanup runs");
}
// Exception continues to bubble up
// Application may crash if not caught elsewhere</code></pre>
                            </div>
                        </div>

                        <div class="scenario">
                            <h5>🔄 With Multiple Catch Blocks</h5>
                            <p><strong>Result:</strong> Specific exception handling based on type</p>
                            <div class="code-example">
                                <pre><code>try
{
    await ProcessOrderAsync(orderId);
}
catch (ValidationException ex)
{
    return BadRequest(ex.Message);
}
catch (NotFoundException ex)
{
    return NotFound(ex.Message);
}
catch (Exception ex)
{
    _logger.LogError(ex, "Unexpected error processing order");
    return StatusCode(500, "Internal server error");
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exception-flow-table">
                    <h4>📊 Exception Handling Outcomes</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Scenario</th>
                                <th>Has Catch?</th>
                                <th>Has Finally?</th>
                                <th>Program Continues?</th>
                                <th>Finally Runs?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Exception thrown, catch exists</td>
                                <td>✅ Yes</td>
                                <td>Optional</td>
                                <td>Yes, after catch</td>
                                <td>Yes, if present</td>
                            </tr>
                            <tr>
                                <td>Exception thrown, no catch</td>
                                <td>❌ No</td>
                                <td>May exist</td>
                                <td>No, unless caught higher up</td>
                                <td>Yes, then bubbles up</td>
                            </tr>
                            <tr>
                                <td>Exception thrown, catch + finally</td>
                                <td>✅ Yes</td>
                                <td>✅ Yes</td>
                                <td>Yes, after finally</td>
                                <td>Always</td>
                            </tr>
                            <tr>
                                <td>No exception thrown</td>
                                <td>Skipped</td>
                                <td>May exist</td>
                                <td>Yes</td>
                                <td>Yes, if present</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="best-practices">
                    <h4>🎯 Enterprise Best Practices</h4>
                    
                    <div class="practice-grid">
                        <div class="practice-item good">
                            <h5>✅ Do This</h5>
                            <ul>
                                <li><strong>Catch specific exceptions first</strong> (SqlException, FileNotFoundException)</li>
                                <li><strong>Log all exceptions</strong> with context and correlation IDs</li>
                                <li><strong>Use structured logging</strong> (Serilog, Application Insights)</li>
                                <li><strong>Preserve stack traces</strong> with <code>throw;</code> not <code>throw ex;</code></li>
                                <li><strong>Use global exception middleware</strong> in ASP.NET Core</li>
                                <li><strong>Implement retry policies</strong> for transient failures</li>
                            </ul>
                        </div>

                        <div class="practice-item avoid">
                            <h5>❌ Avoid This</h5>
                            <ul>
                                <li><strong>Swallowing exceptions</strong> with empty catch blocks</li>
                                <li><strong>Catching Exception</strong> unless you re-throw</li>
                                <li><strong>Business logic in finally</strong> blocks</li>
                                <li><strong>Using exceptions for control flow</strong></li>
                                <li><strong>Generic error messages</strong> without context</li>
                                <li><strong>Ignoring inner exceptions</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="global-exception-handling">
                    <h4>🌐 Global Exception Handling in ASP.NET Core</h4>
                    <div class="code-example">
                        <pre><code>// Custom Exception Middleware
public class GlobalExceptionMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger&lt;GlobalExceptionMiddleware&gt; _logger;

    public GlobalExceptionMiddleware(RequestDelegate next, ILogger&lt;GlobalExceptionMiddleware&gt; logger)
    {
        _next = next;
        _logger = logger;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        try
        {
            await _next(context);
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "Unhandled exception occurred. TraceId: {TraceId}", 
                context.TraceIdentifier);
            
            await HandleExceptionAsync(context, ex);
        }
    }

    private static async Task HandleExceptionAsync(HttpContext context, Exception exception)
    {
        context.Response.ContentType = "application/json";
        
        var response = exception switch
        {
            ValidationException => new { StatusCode = 400, Message = exception.Message },
            NotFoundException => new { StatusCode = 404, Message = "Resource not found" },
            UnauthorizedException => new { StatusCode = 401, Message = "Unauthorized" },
            _ => new { StatusCode = 500, Message = "An error occurred processing your request" }
        };

        context.Response.StatusCode = response.StatusCode;
        await context.Response.WriteAsync(JsonSerializer.Serialize(response));
    }
}

// Registration in Program.cs
app.UseMiddleware&lt;GlobalExceptionMiddleware&gt;();</code></pre>
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"In C#, I use try blocks around code that might fail—like database access or file I/O. The catch block lets me log and recover from errors, while finally ensures cleanup always happens. For disposable resources, I prefer using statements for cleaner code, but finally is crucial for manual resource management. In enterprise applications, I implement global exception middleware for consistent error handling and always log exceptions with proper context for debugging."</p>
                </div>
            </div>
            
            <div class="concept-card">
                <h3>Design Patterns in Enterprise .NET</h3>
                
                <div class="pattern-categories">
                    <h4>📋 Pattern Categories</h4>
                    <div class="categories-grid">
                        <div class="pattern-category creational">
                            <h5>Creational Patterns</h5>
                            <p><strong>Problem:</strong> How objects are created and instantiated</p>
                            <p><strong>Purpose:</strong> Provide flexible solutions for object creation</p>
                            <div class="category-examples">
                                <strong>Examples:</strong> Factory, Singleton, Builder, Abstract Factory
                            </div>
                            <div class="enterprise-use">
                                <strong>Enterprise Use:</strong> Complex object creation, dependency injection, plugin systems
                            </div>
                        </div>
                        
                        <div class="pattern-category structural">
                            <h5>Structural Patterns</h5>
                            <p><strong>Problem:</strong> How objects are composed into larger structures</p>
                            <p><strong>Purpose:</strong> Build relationships between classes/objects</p>
                            <div class="category-examples">
                                <strong>Examples:</strong> Adapter, Decorator, Facade, Proxy
                            </div>
                            <div class="enterprise-use">
                                <strong>Enterprise Use:</strong> API integration, extending functionality, simplifying subsystems
                            </div>
                        </div>
                        
                        <div class="pattern-category behavioral">
                            <h5>Behavioral Patterns</h5>
                            <p><strong>Problem:</strong> How objects communicate and interact</p>
                            <p><strong>Purpose:</strong> Manage algorithms, relationships, and responsibilities</p>
                            <div class="category-examples">
                                <strong>Examples:</strong> Observer, Strategy, Command, Mediator
                            </div>
                            <div class="enterprise-use">
                                <strong>Enterprise Use:</strong> Event handling, workflow management, communication decoupling
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>CQRS (Command Query Responsibility Segregation)</h3>
                
                <div class="cqrs-definition">
                    <p><strong>Core Idea:</strong> Separate the models for reading (queries) and writing (commands) data.</p>
                    <div class="cqrs-benefits">
                        <div class="benefit">
                            <h6>📈 Scalability & Performance</h6>
                            <p>Optimize, scale, or cache read and write workloads independently</p>
                        </div>
                        <div class="benefit">
                            <h6>🎯 Simplified Models</h6>
                            <p>Command models focus on business rules, query models optimize for reads</p>
                        </div>
                        <div class="benefit">
                            <h6>🔧 Flexibility</h6>
                            <p>Different data stores for reads/writes (SQL for writes, NoSQL for reads)</p>
                        </div>
                    </div>
                </div>

                <div class="cqrs-example">
                    <h5>🏢 Enterprise Example: Order Management</h5>
                    
                    <div class="cqrs-comparison">
                        <div class="traditional-approach">
                            <h6>Without CQRS (Traditional)</h6>
                            <div class="code-example">
                                <pre><code>public class OrderService
{
    public void PlaceOrder(Order order) { /* Save to DB */ }
    public OrderDto GetOrderDetails(int id) { /* Read from DB */ }
    
    // Same models and DB schema for both operations
}</code></pre>
                            </div>
                        </div>

                        <div class="cqrs-approach">
                            <h6>With CQRS</h6>
                            <div class="code-example">
                                <pre><code>// Command Side - Handles writes
public class PlaceOrderHandler : ICommandHandler&lt;PlaceOrderCommand&gt;
{
    public async Task Handle(PlaceOrderCommand command)
    {
        // Validation, business logic, save to write DB
        var order = new Order(command.CustomerId, command.Items);
        await _orderRepository.SaveAsync(order);
        
        // Publish event for read side update
        await _eventBus.PublishAsync(new OrderPlacedEvent(order));
    }
}

// Query Side - Handles reads
public class GetOrderDetailsHandler : IQueryHandler&lt;GetOrderDetailsQuery, OrderDetailsDto&gt;
{
    public async Task&lt;OrderDetailsDto&gt; Handle(GetOrderDetailsQuery query)
    {
        // Read from optimized read DB/cache
        return await _readRepository.GetOrderDetailsAsync(query.OrderId);
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cqrs-when-to-use">
                    <h5>⚖️ When to Use CQRS</h5>
                    <div class="usage-guidelines">
                        <div class="use-cqrs">
                            <h6>✅ Consider CQRS When:</h6>
                            <ul>
                                <li>Complex business logic on writes, simple high-performance reads</li>
                                <li>Need to scale reads and writes differently</li>
                                <li>Reporting and transactional workloads must not interfere</li>
                                <li>High-traffic applications (banking, e-commerce, reporting)</li>
                            </ul>
                        </div>
                        
                        <div class="avoid-cqrs">
                            <h6>❌ Do NOT Use CQRS For:</h6>
                            <ul>
                                <li>Small, simple CRUD applications</li>
                                <li>Applications without complex business logic</li>
                                <li>When read/write patterns are similar</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="cqrs-related-patterns">
                    <h5>🔗 Related Patterns</h5>
                    <div class="related-patterns-grid">
                        <div class="related-pattern">
                            <h6>CQS (Command Query Separation)</h6>
                            <p>CQRS extends CQS from method level to architectural level</p>
                        </div>
                        <div class="related-pattern">
                            <h6>Event Sourcing</h6>
                            <p>Often paired with CQRS - commands generate events, queries replay them</p>
                        </div>
                        <div class="related-pattern">
                            <h6>Mediator Pattern</h6>
                            <p>Commands and queries dispatched via mediator (MediatR in .NET)</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Factory Pattern</h3>
                
                <div class="factory-definition">
                    <p><strong>Purpose:</strong> Provides an interface for creating objects, but allows logic to decide which specific class to instantiate.</p>
                    <div class="factory-memory-aid">
                        <h5>💡 How to Remember</h5>
                        <p><em>"Don't use `new` everywhere—let a factory decide which object you get."</em></p>
                    </div>
                </div>

                <div class="factory-example">
                    <h5>📧 Enterprise Example: Notification System</h5>
                    
                    <div class="factory-comparison">
                        <div class="without-factory">
                            <h6>❌ Without Factory Pattern</h6>
                            <div class="code-example">
                                <pre><code>// Bad: Code knows about all types!
INotificationSender sender;
if (type == "email")
    sender = new EmailSender();
else if (type == "sms")
    sender = new SmsSender();
else if (type == "push")
    sender = new PushNotificationSender();

// Hard to add new types, lots of repeated code</code></pre>
                            </div>
                        </div>

                        <div class="with-factory">
                            <h6>✅ With Factory Pattern</h6>
                            <div class="code-example">
                                <pre><code>public interface INotificationSender
{
    Task SendAsync(string to, string message);
}

// Factory
public class NotificationSenderFactory
{
    private readonly IServiceProvider _serviceProvider;
    
    public INotificationSender GetSender(NotificationType type)
    {
        return type switch
        {
            NotificationType.Email => _serviceProvider.GetService&lt;EmailSender&gt;(),
            NotificationType.Sms => _serviceProvider.GetService&lt;SmsSender&gt;(),
            NotificationType.Push => _serviceProvider.GetService&lt;PushNotificationSender&gt;(),
            _ => throw new NotSupportedException($"Type {type} not supported")
        };
    }
}

// Usage in application
var sender = _notificationFactory.GetSender(user.PreferredNotificationType);
await sender.SendAsync(user.ContactInfo, "Welcome!");</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="factory-benefits">
                    <h5>🎯 Key Benefits</h5>
                    <ul>
                        <li><strong>Centralizes object creation</strong> logic - easy to update, maintain, extend</li>
                        <li><strong>Loosely couples code</strong> from concrete classes</li>
                        <li><strong>Ideal for plugins</strong>, configurable components, runtime decisions</li>
                        <li><strong>Integrates well with DI</strong> containers in .NET applications</li>
                    </ul>
                </div>
            </div>

            <div class="concept-card">
                <h3>Common Enterprise Patterns</h3>
                
                <div class="patterns-grid">
                    <div class="pattern">
                        <h5>Repository Pattern</h5>
                        <p>Decouples data access logic from business logic</p>
                        <div class="code-example">
                            <pre><code>public interface IUserRepository 
{
    Task&lt;User&gt; GetByIdAsync(int id);
    Task&lt;IEnumerable&lt;User&gt;&gt; GetAllAsync();
    Task AddAsync(User user);
    Task UpdateAsync(User user);
    Task DeleteAsync(int id);
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="pattern">
                        <h5>Unit of Work</h5>
                        <p>Maintains transaction consistency across multiple repositories</p>
                        <div class="code-example">
                            <pre><code>public interface IUnitOfWork : IDisposable
{
    IUserRepository Users { get; }
    IOrderRepository Orders { get; }
    Task&lt;int&gt; SaveChangesAsync();
    Task BeginTransactionAsync();
    Task CommitTransactionAsync();
}</code></pre>
                        </div>
                    </div>

                    <div class="pattern">
                        <h5>Strategy Pattern</h5>
                        <p>Selects algorithms at runtime - perfect for business rules</p>
                        <div class="code-example">
                            <pre><code>public interface IPricingStrategy
{
    decimal CalculatePrice(Order order);
}

public class VipCustomerPricing : IPricingStrategy
{
    public decimal CalculatePrice(Order order) => order.Total * 0.9m; // 10% discount
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"Design patterns are categorized into creational (object creation), structural (object composition), and behavioral (object communication) to help choose the right solution. CQRS separates read and write operations for scalability in complex systems, while the Factory pattern centralizes object creation logic. I use these patterns to build maintainable, extensible enterprise applications where business requirements and technical complexity demand flexible, decoupled architectures."</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>C# Generics</h3>
                
                <div class="generics-definition">
                    <p><strong>Definition:</strong> Generics allow you to define classes, interfaces, methods, and delegates with a placeholder for the type of data they store or use.</p>
                    <div class="generics-benefits">
                        <div class="benefit">
                            <h6>🛡️ Type Safety</h6>
                            <p>Catch type errors at compile time, not runtime</p>
                        </div>
                        <div class="benefit">
                            <h6>♻️ Code Reuse</h6>
                            <p>Write one implementation that works for many types</p>
                        </div>
                        <div class="benefit">
                            <h6>⚡ Performance</h6>
                            <p>No boxing/unboxing for value types</p>
                        </div>
                        <div class="benefit">
                            <h6>🔧 Flexibility</h6>
                            <p>Type-agnostic APIs, collections, and algorithms</p>
                        </div>
                    </div>
                </div>

                <div class="generics-comparison">
                    <h4>📊 Generic vs Non-Generic Collections</h4>
                    
                    <div class="comparison-grid">
                        <div class="without-generics">
                            <h5>❌ Without Generics</h5>
                            <div class="code-example">
                                <pre><code>ArrayList list = new ArrayList();
list.Add(1);
list.Add("hello"); // Compiles, but type issues at runtime!

// Type casting required
int value = (int)list[0]; // Runtime error possible
string text = (string)list[1];</code></pre>
                            </div>
                            <div class="issues">
                                <p><strong>Issues:</strong></p>
                                <ul>
                                    <li>No compile-time type checking</li>
                                    <li>Boxing/unboxing performance overhead</li>
                                    <li>Runtime type casting errors</li>
                                    <li>No IntelliSense support</li>
                                </ul>
                            </div>
                        </div>

                        <div class="with-generics">
                            <h5>✅ With Generics</h5>
                            <div class="code-example">
                                <pre><code>List&lt;int&gt; intList = new List&lt;int&gt;();
intList.Add(1);
// intList.Add("hello"); // Compile error, type safe!

// No casting required
int value = intList[0]; // Type safe
var sum = intList.Sum(); // IntelliSense works</code></pre>
                            </div>
                            <div class="benefits">
                                <p><strong>Benefits:</strong></p>
                                <ul>
                                    <li>Compile-time type safety</li>
                                    <li>No boxing/unboxing overhead</li>
                                    <li>No runtime casting errors</li>
                                    <li>Full IntelliSense support</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="generic-repository-example">
                    <h4>🏢 Enterprise Example: Generic Repository</h4>
                    <div class="code-example">
                        <pre><code>public interface IRepository&lt;T&gt; where T : class
{
    Task&lt;T&gt; GetByIdAsync(int id);
    Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync();
    Task AddAsync(T entity);
    Task UpdateAsync(T entity);
    Task DeleteAsync(int id);
    Task&lt;IEnumerable&lt;T&gt;&gt; FindAsync(Expression&lt;Func&lt;T, bool&gt;&gt; predicate);
}

public class Repository&lt;T&gt; : IRepository&lt;T&gt; where T : class
{
    private readonly DbContext _context;
    private readonly DbSet&lt;T&gt; _dbSet;

    public Repository(DbContext context)
    {
        _context = context;
        _dbSet = context.Set&lt;T&gt;();
    }

    public async Task&lt;T&gt; GetByIdAsync(int id)
    {
        return await _dbSet.FindAsync(id);
    }

    public async Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync()
    {
        return await _dbSet.ToListAsync();
    }

    // Implementation works for Customer, Order, Product, etc.
}

// Usage
IRepository&lt;Customer&gt; customerRepo = new Repository&lt;Customer&gt;(dbContext);
IRepository&lt;Order&gt; orderRepo = new Repository&lt;Order&gt;(dbContext);</code></pre>
                    </div>
                </div>

                <div class="generic-constraints">
                    <h4>🔒 Generic Constraints</h4>
                    <p>Constraints restrict what types can be used as generic parameters, enabling safer and more predictable code.</p>
                    
                    <div class="constraints-grid">
                        <div class="constraint-type">
                            <h5>where T : class</h5>
                            <p>Only reference types allowed</p>
                            <div class="code-example">
                                <pre><code>public class StringProcessor&lt;T&gt; where T : class
{
    public bool IsNull(T value) => value == null;
}</code></pre>
                            </div>
                        </div>

                        <div class="constraint-type">
                            <h5>where T : struct</h5>
                            <p>Only value types allowed</p>
                            <div class="code-example">
                                <pre><code>public class Calculator&lt;T&gt; where T : struct
{
    public T Add(T a, T b) => /* numeric operations */;
}</code></pre>
                            </div>
                        </div>

                        <div class="constraint-type">
                            <h5>where T : new()</h5>
                            <p>Must have parameterless constructor</p>
                            <div class="code-example">
                                <pre><code>public class Factory&lt;T&gt; where T : new()
{
    public T CreateInstance() => new T();
}</code></pre>
                            </div>
                        </div>

                        <div class="constraint-type">
                            <h5>where T : BaseClass</h5>
                            <p>Must inherit from specific class</p>
                            <div class="code-example">
                                <pre><code>public class EntityProcessor&lt;T&gt; where T : BaseEntity
{
    public void SetAuditInfo(T entity)
    {
        entity.ModifiedDate = DateTime.UtcNow;
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="constraint-type">
                            <h5>where T : IInterface</h5>
                            <p>Must implement specific interface</p>
                            <div class="code-example">
                                <pre><code>public class Sorter&lt;T&gt; where T : IComparable&lt;T&gt;
{
    public List&lt;T&gt; Sort(List&lt;T&gt; items)
    {
        return items.OrderBy(x => x).ToList();
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="constraint-type">
                            <h5>Multiple Constraints</h5>
                            <p>Combine multiple constraints</p>
                            <div class="code-example">
                                <pre><code>public class Repository&lt;T&gt; 
    where T : BaseEntity, IValidatable, new()
{
    public T CreateAndValidate()
    {
        var entity = new T();
        entity.Validate();
        return entity;
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="variance-concepts">
                    <h4>🔄 Covariance & Contravariance</h4>
                    <p>Advanced concepts dealing with type compatibility for generic interfaces and delegates.</p>
                    
                    <div class="variance-explanation">
                        <div class="covariance-section">
                            <h5>📤 Covariance (out)</h5>
                            <p>Lets you use a more derived type than originally specified. Applies to <strong>output positions</strong> (return values).</p>
                            
                            <div class="variance-example">
                                <h6>Class Hierarchy Example</h6>
                                <div class="code-example">
                                    <pre><code>class Animal { }
class Dog : Animal { }

// Covariance in action
IEnumerable&lt;Dog&gt; dogs = new List&lt;Dog&gt; { new Dog(), new Dog() };
IEnumerable&lt;Animal&gt; animals = dogs; // ✅ OK because of covariance

// Why this works:
// - IEnumerable&lt;T&gt; is covariant (marked with 'out T')
// - You can only read from IEnumerable, never add to it
// - Every Dog IS an Animal, so reading Dogs as Animals is safe</code></pre>
                                </div>
                            </div>

                            <div class="variance-memory-aid">
                                <p><strong>Memory Aid:</strong> <em>COvariance → Out</em> (you get objects out, so it's about returns)</p>
                            </div>
                        </div>

                        <div class="contravariance-section">
                            <h5>📥 Contravariance (in)</h5>
                            <p>Lets you use a more generic type than originally specified. Applies to <strong>input positions</strong> (method parameters).</p>
                            
                            <div class="variance-example">
                                <h6>Comparer Example</h6>
                                <div class="code-example">
                                    <pre><code>public interface IComparer&lt;in T&gt;
{
    int Compare(T a, T b);
}

// Contravariance in action
IComparer&lt;Animal&gt; animalComparer = new AnimalComparer();
IComparer&lt;Dog&gt; dogComparer = animalComparer; // ✅ OK because of contravariance

// Why this works:
// - IComparer&lt;T&gt; is contravariant (marked with 'in T')
// - If you can compare any Animal, you can compare Dogs
// - Dogs are Animals, so Animal comparer works for Dogs</code></pre>
                                </div>
                            </div>

                            <div class="variance-memory-aid">
                                <p><strong>Memory Aid:</strong> <em>Contravariance → Input</em> (you put objects in, so it's about parameters)</p>
                            </div>
                        </div>
                    </div>

                    <div class="variance-summary-table">
                        <h5>📋 Variance Summary</h5>
                        <table>
                            <thead>
                                <tr>
                                    <th>Concept</th>
                                    <th>Keyword</th>
                                    <th>Direction</th>
                                    <th>Example Interface</th>
                                    <th>Assignment Example</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Covariance</td>
                                    <td><code>out</code></td>
                                    <td>Output</td>
                                    <td><code>IEnumerable&lt;out T&gt;</code></td>
                                    <td><code>IEnumerable&lt;Animal&gt; = IEnumerable&lt;Dog&gt;</code></td>
                                </tr>
                                <tr>
                                    <td>Contravariance</td>
                                    <td><code>in</code></td>
                                    <td>Input</td>
                                    <td><code>IComparer&lt;in T&gt;</code></td>
                                    <td><code>IComparer&lt;Dog&gt; = IComparer&lt;Animal&gt;</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="generic-methods">
                    <h4>🔧 Generic Methods</h4>
                    <p>You can declare methods (not just classes) with generic type parameters.</p>
                    
                    <div class="generic-method-examples">
                        <div class="method-example">
                            <h5>Utility Method Example</h5>
                            <div class="code-example">
                                <pre><code>public static class GenericUtilities
{
    // Generic swap method
    public static void Swap&lt;T&gt;(ref T a, ref T b)
    {
        T temp = a;
        a = b;
        b = temp;
    }

    // Generic conversion method
    public static TResult ConvertTo&lt;TSource, TResult&gt;(TSource source)
        where TResult : class, new()
    {
        // Mapping logic here
        return new TResult();
    }

    // Generic validation method
    public static bool IsValid&lt;T&gt;(T item) where T : IValidatable
    {
        return item.IsValid();
    }
}

// Usage
int x = 10, y = 20;
GenericUtilities.Swap(ref x, ref y); // x=20, y=10

string name = "John";
bool isValid = GenericUtilities.IsValid(name);</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="enterprise-examples">
                    <h4>🏢 Advanced Enterprise Examples</h4>
                    
                    <div class="enterprise-patterns">
                        <div class="pattern-example">
                            <h5>Generic Event Handler</h5>
                            <div class="code-example">
                                <pre><code>public interface IEventHandler&lt;in TEvent&gt;
{
    Task HandleAsync(TEvent eventData);
}

public class OrderCreatedEventHandler : IEventHandler&lt;OrderCreatedEvent&gt;
{
    public async Task HandleAsync(OrderCreatedEvent eventData)
    {
        // Send confirmation email
        // Update inventory
        // Log audit trail
    }
}

// Event dispatcher using contravariance
public class EventDispatcher
{
    public async Task PublishAsync&lt;T&gt;(T eventData)
    {
        var handlers = _serviceProvider.GetServices&lt;IEventHandler&lt;T&gt;&gt;();
        await Task.WhenAll(handlers.Select(h => h.HandleAsync(eventData)));
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="pattern-example">
                            <h5>Generic Audit Helper</h5>
                            <div class="code-example">
                                <pre><code>public static class AuditHelper&lt;T&gt; where T : class
{
    public static void LogCreate(T entity, string userId)
    {
        var entityName = typeof(T).Name;
        var properties = typeof(T).GetProperties()
            .ToDictionary(p => p.Name, p => p.GetValue(entity));
        
        _logger.LogInformation("Created {EntityType} by {UserId}: {@Properties}",
            entityName, userId, properties);
    }

    public static void LogUpdate(T oldEntity, T newEntity, string userId)
    {
        var changes = GetChanges(oldEntity, newEntity);
        _logger.LogInformation("Updated {EntityType} by {UserId}: {@Changes}",
            typeof(T).Name, userId, changes);
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="pattern-example">
                            <h5>Generic Result Pattern</h5>
                            <div class="code-example">
                                <pre><code>public class Result&lt;T&gt;
{
    public bool IsSuccess { get; private set; }
    public T Value { get; private set; }
    public string Error { get; private set; }

    private Result(T value)
    {
        IsSuccess = true;
        Value = value;
    }

    private Result(string error)
    {
        IsSuccess = false;
        Error = error;
    }

    public static Result&lt;T&gt; Success(T value) => new Result&lt;T&gt;(value);
    public static Result&lt;T&gt; Failure(string error) => new Result&lt;T&gt;(error);
}

// Usage in service methods
public async Task&lt;Result&lt;Customer&gt;&gt; GetCustomerAsync(int id)
{
    try
    {
        var customer = await _repository.GetByIdAsync(id);
        return customer != null 
            ? Result&lt;Customer&gt;.Success(customer)
            : Result&lt;Customer&gt;.Failure("Customer not found");
    }
    catch (Exception ex)
    {
        return Result&lt;Customer&gt;.Failure(ex.Message);
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="generics-features-table">
                    <h4>📊 Generics Features Summary</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Benefit</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Type Parameter</td>
                                <td>Code works for any type</td>
                                <td><code>List&lt;T&gt;</code>, <code>Dictionary&lt;TKey,TValue&gt;</code></td>
                            </tr>
                            <tr>
                                <td>Compile-time Safety</td>
                                <td>Prevents runtime type errors</td>
                                <td><code>List&lt;int&gt;</code> won't accept strings</td>
                            </tr>
                            <tr>
                                <td>Performance</td>
                                <td>No boxing/unboxing for value types</td>
                                <td><code>List&lt;int&gt;</code> vs <code>ArrayList</code></td>
                            </tr>
                            <tr>
                                <td>Code Reuse</td>
                                <td>DRY principle; one implementation</td>
                                <td>Generic repository for all entities</td>
                            </tr>
                            <tr>
                                <td>Constraints</td>
                                <td>Enforce type requirements</td>
                                <td><code>where T : IComparable</code></td>
                            </tr>
                            <tr>
                                <td>Variance</td>
                                <td>Type compatibility flexibility</td>
                                <td>Covariance/Contravariance</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"Generics in C# let us define classes, interfaces, and methods with type parameters, enabling the same code to work with different data types while maintaining type safety and performance. They eliminate code duplication, prevent runtime errors through compile-time checking, and avoid boxing/unboxing overhead. I use generics extensively in enterprise projects for repository patterns, utility functions, event handling, and strongly-typed collections. Advanced features like constraints allow enforcing type requirements, while covariance and contravariance provide flexibility in type assignments for interfaces and delegates."</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>ASP.NET Core Middleware</h3>
                
                <div class="middleware-definition">
                    <p><strong>Definition:</strong> Middleware is a component that processes HTTP requests and responses as they flow through the ASP.NET Core pipeline.</p>
                    <div class="middleware-core-concept">
                        <h5>🔗 Core Concept</h5>
                        <p>Each middleware can <strong>inspect/modify requests</strong> before they reach controllers, <strong>inspect/modify responses</strong> after they leave controllers, and <strong>decide whether to pass control</strong> to the next middleware in the pipeline.</p>
                    </div>
                </div>

                <div class="middleware-capabilities">
                    <h4>🛠️ What Middleware Can Do</h4>
                    
                    <div class="capabilities-grid">
                        <div class="capability">
                            <h6>📥 Request Processing</h6>
                            <p>Inspect and modify incoming HTTP requests</p>
                            <ul>
                                <li>Add/modify headers</li>
                                <li>Validate request format</li>
                                <li>Extract authentication tokens</li>
                                <li>Log request details</li>
                            </ul>
                        </div>
                        
                        <div class="capability">
                            <h6>📤 Response Processing</h6>
                            <p>Inspect and modify outgoing HTTP responses</p>
                            <ul>
                                <li>Add security headers</li>
                                <li>Compress response content</li>
                                <li>Log response metrics</li>
                                <li>Transform response format</li>
                            </ul>
                        </div>
                        
                        <div class="capability">
                            <h6>🔀 Pipeline Control</h6>
                            <p>Control the flow through the pipeline</p>
                            <ul>
                                <li>Short-circuit requests</li>
                                <li>Conditionally call next middleware</li>
                                <li>Handle exceptions globally</li>
                                <li>Implement branching logic</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="middleware-examples">
                    <h4>🌟 Common Middleware Examples</h4>
                    
                    <div class="examples-grid">
                        <div class="middleware-example">
                            <h6>🔐 Authentication & Authorization</h6>
                            <p>Verify user identity and permissions</p>
                        </div>
                        <div class="middleware-example">
                            <h6>📝 Logging</h6>
                            <p>Record request/response information</p>
                        </div>
                        <div class="middleware-example">
                            <h6>⚠️ Exception Handling</h6>
                            <p>Global error handlers and recovery</p>
                        </div>
                        <div class="middleware-example">
                            <h6>🌐 CORS</h6>
                            <p>Cross-Origin Resource Sharing policies</p>
                        </div>
                        <div class="middleware-example">
                            <h6>🗜️ Compression</h6>
                            <p>Compress response content for performance</p>
                        </div>
                        <div class="middleware-example">
                            <h6>🔄 Request/Response Rewriting</h6>
                            <p>Transform URLs or content on the fly</p>
                        </div>
                    </div>
                </div>

                <div class="delegate-architecture">
                    <h4>🔗 Delegate Architecture</h4>
                    
                    <div class="delegate-explanation">
                        <div class="key-concept">
                            <h5>💡 Key Concept</h5>
                            <p><strong>Yes, every middleware in ASP.NET Core is built around delegates!</strong></p>
                            <p>The pipeline is a <strong>chain of delegates</strong> (methods), each representing a middleware component.</p>
                        </div>
                        
                        <div class="delegate-flow">
                            <h5>🔄 How Delegate Chain Works</h5>
                            <div class="flow-steps">
                                <div class="flow-step">
                                    <span class="step-number">1</span>
                                    <div class="step-content">
                                        <h6>Receive Context</h6>
                                        <p>Middleware receives <code>HttpContext</code> and reference to next delegate</p>
                                    </div>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <span class="step-number">2</span>
                                    <div class="step-content">
                                        <h6>Execute Logic</h6>
                                        <p>Run custom logic (logging, validation, etc.)</p>
                                    </div>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <span class="step-number">3</span>
                                    <div class="step-content">
                                        <h6>Call Next</h6>
                                        <p>Optionally call <code>await next(context)</code></p>
                                    </div>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <span class="step-number">4</span>
                                    <div class="step-content">
                                        <h6>Post-Processing</h6>
                                        <p>Execute logic after next middleware completes</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="custom-middleware-example">
                    <h4>🏗️ Custom Middleware Implementation</h4>
                    
                    <div class="middleware-code-example">
                        <h5>📝 Logging Middleware Example</h5>
                        <div class="code-example">
                            <pre><code>public class RequestLoggingMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger&lt;RequestLoggingMiddleware&gt; _logger;

    public RequestLoggingMiddleware(RequestDelegate next, ILogger&lt;RequestLoggingMiddleware&gt; logger)
    {
        _next = next; // Delegate to next middleware
        _logger = logger;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        // Before processing - log incoming request
        var stopwatch = Stopwatch.StartNew();
        _logger.LogInformation("Request {Method} {Path} started at {Time}",
            context.Request.Method,
            context.Request.Path,
            DateTime.UtcNow);

        try
        {
            // Call next middleware in the pipeline
            await _next(context);
        }
        finally
        {
            // After processing - log response
            stopwatch.Stop();
            _logger.LogInformation("Request {Method} {Path} completed in {Duration}ms with status {StatusCode}",
                context.Request.Method,
                context.Request.Path,
                stopwatch.ElapsedMilliseconds,
                context.Response.StatusCode);
        }
    }
}</code></pre>
                        </div>
                        
                        <div class="code-explanation">
                            <h6>🔍 Key Points</h6>
                            <ul>
                                <li><strong>RequestDelegate _next</strong>: The delegate pointing to next middleware</li>
                                <li><strong>InvokeAsync method</strong>: Entry point called by the pipeline</li>
                                <li><strong>await _next(context)</strong>: Passes control to next middleware</li>
                                <li><strong>Before/After logic</strong>: Code runs before and after the next middleware</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="middleware-registration">
                    <h4>📋 Middleware Registration</h4>
                    <p>Middlewares are registered in <strong>execution order</strong> in Program.cs or Startup.cs</p>
                    
                    <div class="registration-example">
                        <h5>🔧 Registration Order Example</h5>
                        <div class="code-example">
                            <pre><code>var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();

// Middleware registration order is CRITICAL!
app.UseMiddleware&lt;RequestLoggingMiddleware&gt;();        // 1. First - logs all requests
app.UseMiddleware&lt;ExceptionHandlingMiddleware&gt;();    // 2. Catches any exceptions
app.UseHttpsRedirection();                          // 3. HTTPS redirect
app.UseAuthentication();                            // 4. Authentication
app.UseAuthorization();                             // 5. Authorization
app.UseCors();                                      // 6. CORS policies
app.UseRouting();                                   // 7. Route matching
app.UseEndpoints(endpoints =>                       // 8. Final endpoints
{
    endpoints.MapControllers();
    endpoints.MapGet("/health", () => "Healthy");
});

app.Run();</code></pre>
                        </div>
                        
                        <div class="order-importance">
                            <h6>⚠️ Order Matters!</h6>
                            <p>The order of middleware registration determines the execution sequence. Authentication must come before authorization, logging should be early to catch all requests, etc.</p>
                        </div>
                    </div>
                </div>

                <div class="advanced-middleware-patterns">
                    <h4>🚀 Advanced Middleware Patterns</h4>
                    
                    <div class="patterns-grid">
                        <div class="pattern">
                            <h5>🔄 Short-Circuit Middleware</h5>
                            <div class="code-example">
                                <pre><code>public class ApiKeyMiddleware
{
    private readonly RequestDelegate _next;
    
    public async Task InvokeAsync(HttpContext context)
    {
        if (!context.Request.Headers.ContainsKey("X-API-Key"))
        {
            context.Response.StatusCode = 401;
            await context.Response.WriteAsync("API Key required");
            return; // Short-circuit - don't call next middleware
        }
        
        await _next(context); // Continue pipeline
    }
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="pattern">
                            <h5>🌿 Conditional Middleware</h5>
                            <div class="code-example">
                                <pre><code>public class DevelopmentOnlyMiddleware
{
    private readonly RequestDelegate _next;
    private readonly IWebHostEnvironment _env;
    
    public async Task InvokeAsync(HttpContext context)
    {
        if (_env.IsDevelopment())
        {
            // Add development headers
            context.Response.Headers.Add("X-Dev-Mode", "true");
        }
        
        await _next(context);
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="pattern">
                            <h5>📊 Metrics Middleware</h5>
                            <div class="code-example">
                                <pre><code>public class MetricsMiddleware
{
    private readonly RequestDelegate _next;
    private readonly IMetrics _metrics;
    
    public async Task InvokeAsync(HttpContext context)
    {
        using var timer = _metrics.StartTimer("request_duration");
        
        await _next(context);
        
        _metrics.IncrementCounter("requests_total", 
            ("method", context.Request.Method),
            ("status", context.Response.StatusCode.ToString()));
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="middleware-truth-table">
                    <h4>✅ Middleware Truth Table</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Statement</th>
                                <th>True/False</th>
                                <th>Explanation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Every middleware is a delegate</td>
                                <td>✅ True</td>
                                <td>All middleware is implemented as a delegate or method</td>
                            </tr>
                            <tr>
                                <td>Middleware must call the next delegate</td>
                                <td>❌ False</td>
                                <td>Can short-circuit (e.g., return 401 Unauthorized early)</td>
                            </tr>
                            <tr>
                                <td>Middleware only runs before controllers</td>
                                <td>❌ False</td>
                                <td>Can run logic before AND after controllers/endpoints</td>
                            </tr>
                            <tr>
                                <td>Order of registration matters</td>
                                <td>✅ True</td>
                                <td>Execution order follows registration order</td>
                            </tr>
                            <tr>
                                <td>Middleware can modify HttpContext</td>
                                <td>✅ True</td>
                                <td>Full access to request/response objects</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="enterprise-middleware-examples">
                    <h4>🏢 Enterprise Middleware Examples</h4>
                    
                    <div class="enterprise-patterns">
                        <div class="enterprise-pattern">
                            <h5>🔒 JWT Authentication Middleware</h5>
                            <div class="code-example">
                                <pre><code>public class JwtAuthenticationMiddleware
{
    private readonly RequestDelegate _next;
    private readonly JwtService _jwtService;
    
    public async Task InvokeAsync(HttpContext context)
    {
        var token = context.Request.Headers["Authorization"]
            .FirstOrDefault()?.Split(" ").Last();
            
        if (token != null)
        {
            var principal = _jwtService.ValidateToken(token);
            if (principal != null)
            {
                context.User = principal;
            }
        }
        
        await _next(context);
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="enterprise-pattern">
                            <h5>📈 Performance Monitoring</h5>
                            <div class="code-example">
                                <pre><code>public class PerformanceMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger _logger;
    
    public async Task InvokeAsync(HttpContext context)
    {
        var stopwatch = Stopwatch.StartNew();
        
        await _next(context);
        
        stopwatch.Stop();
        var elapsed = stopwatch.ElapsedMilliseconds;
        
        if (elapsed > 1000) // Log slow requests
        {
            _logger.LogWarning("Slow request: {Method} {Path} took {Duration}ms",
                context.Request.Method, context.Request.Path, elapsed);
        }
        
        context.Response.Headers.Add("X-Response-Time", elapsed.ToString());
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="enterprise-pattern">
                            <h5>🛡️ Security Headers Middleware</h5>
                            <div class="code-example">
                                <pre><code>public class SecurityHeadersMiddleware
{
    private readonly RequestDelegate _next;
    
    public async Task InvokeAsync(HttpContext context)
    {
        await _next(context);
        
        // Add security headers to response
        context.Response.Headers.Add("X-Content-Type-Options", "nosniff");
        context.Response.Headers.Add("X-Frame-Options", "DENY");
        context.Response.Headers.Add("X-XSS-Protection", "1; mode=block");
        context.Response.Headers.Add("Strict-Transport-Security", 
            "max-age=31536000; includeSubDomains");
        context.Response.Headers.Add("Content-Security-Policy", 
            "default-src 'self'");
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="interview-tips">
                    <h4>🎯 Interview-Ready Summary</h4>
                    <p>"Middleware in ASP.NET Core is a component that intercepts HTTP requests and responses in the processing pipeline. Under the hood, every middleware is structured as a delegate that can execute logic and then call the next middleware's delegate. This design allows you to build modular, ordered chains for cross-cutting concerns like logging, authentication, and error handling. The order of middleware registration is critical as it determines the execution sequence, and middleware can short-circuit the pipeline or run logic both before and after the next component."</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Asynchronous Programming</h3>
                <div class="async-content">
                    <h4>async/await Pattern</h4>
                    <div class="code-example">
                        <pre><code>public async Task&lt;IActionResult&gt; GetUserAsync(int id) {
    var user = await _userService.GetByIdAsync(id);
    if (user == null) return NotFound();
    return Ok(user);
}</code></pre>
                    </div>
                    <p><strong>Benefits:</strong> Better scalability, non-blocking operations, improved user experience</p>
                    <p><strong>Use Cases:</strong> File uploads, database operations, external API calls</p>
                </div>
            </div>

            <div class="concept-card">
                <h3>Security Best Practices</h3>
                <ul class="security-list">
                    <li><strong>Authentication:</strong> JWT tokens, OAuth2, Azure AD integration</li>
                    <li><strong>Authorization:</strong> Role-based access control (RBAC)</li>
                    <li><strong>Data Protection:</strong> Encryption at rest and in transit</li>
                    <li><strong>Input Validation:</strong> Prevent SQL injection, XSS attacks</li>
                    <li><strong>HTTPS:</strong> Secure communication channels</li>
                </ul>
            </div>
        </section>

        <section id="unit-testing-mocking" class="topic-section">
            <h2>Unit Testing & Mocking</h2>
            
            <div class="concept-card">
                <h3>Unit Testing Fundamentals</h3>
                <div class="concept-content">
                    <p><strong>Unit Testing</strong> is the practice of testing individual components or methods in isolation from their dependencies.</p>
                    <p><strong>Key Principles:</strong></p>
                    <ul>
                        <li><strong>Isolation:</strong> Test only the unit under test, not its dependencies</li>
                        <li><strong>Fast:</strong> Tests should run quickly and provide immediate feedback</li>
                        <li><strong>Repeatable:</strong> Same results every time, regardless of environment</li>
                        <li><strong>Independent:</strong> Tests should not depend on other tests</li>
                    </ul>
                    <div class="example">
                        <h4>Popular .NET Testing Frameworks:</h4>
                        <ul>
                            <li><strong>xUnit:</strong> Modern, extensible framework (Microsoft's choice for .NET Core)</li>
                            <li><strong>NUnit:</strong> Feature-rich, mature framework</li>
                            <li><strong>MSTest:</strong> Microsoft's original testing framework</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Mocking with Moq Framework</h3>
                <div class="concept-content">
                    <p><strong>Mocking</strong> creates fake implementations of dependencies to isolate the unit under test.</p>
                    
                    <h4>Basic Moq Usage</h4>
                    <div class="code-example">
                        <pre><code>// Creating mocks
var mockPayment = new Mock&lt;IPaymentGateway&gt;();
var mockInventory = new Mock&lt;IInventoryService&gt;();

// Setting up mock behavior
mockInventory.Setup(x =&gt; x.IsInStock("Book")).Returns(true);
mockPayment.Setup(x =&gt; x.Charge("Book")).Returns(true);

// Using mocks in test
var service = new OrderService(mockPayment.Object, mockInventory.Object);
var result = service.PlaceOrder("Book");

// Verification
Assert.True(result);
mockPayment.Verify(x =&gt; x.Charge("Book"), Times.Once);</code></pre>
                    </div>

                    <h4>Mock Setup Patterns</h4>
                    <div class="mock-patterns">
                        <div class="pattern">
                            <h5>Return Values</h5>
                            <div class="code-example">
                                <pre><code>// Simple return
mock.Setup(x =&gt; x.GetUser(1)).Returns(new User { Id = 1 });

// Conditional returns
mock.Setup(x =&gt; x.IsValid(It.IsAny&lt;string&gt;()))
    .Returns((string input) =&gt; !string.IsNullOrEmpty(input));

// Async returns
mock.Setup(x =&gt; x.GetUserAsync(1))
    .ReturnsAsync(new User { Id = 1 });</code></pre>
                            </div>
                        </div>

                        <div class="pattern">
                            <h5>Exception Throwing</h5>
                            <div class="code-example">
                                <pre><code>mock.Setup(x =&gt; x.ProcessPayment(It.IsAny&lt;decimal&gt;()))
    .Throws(new PaymentException("Insufficient funds"));</code></pre>
                            </div>
                        </div>

                        <div class="pattern">
                            <h5>Argument Matching</h5>
                            <div class="code-example">
                                <pre><code>// Exact match
mock.Setup(x =&gt; x.GetUser(1)).Returns(user);

// Any value
mock.Setup(x =&gt; x.GetUser(It.IsAny&lt;int&gt;())).Returns(user);

// Conditional match
mock.Setup(x =&gt; x.GetUser(It.Is&lt;int&gt;(id =&gt; id &gt; 0))).Returns(user);

// Range match
mock.Setup(x =&gt; x.GetUser(It.IsInRange(1, 100, Range.Inclusive)))
    .Returns(user);</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>AutoMocker - Simplified Mock Management</h3>
                <div class="concept-content">
                    <p><strong>AutoMocker</strong> from Moq.AutoMock automatically creates and wires up mocks for all constructor dependencies.</p>
                    
                    <h4>Why Use AutoMocker?</h4>
                    <ul>
                        <li><strong>Reduces Boilerplate:</strong> No need to manually create each mock</li>
                        <li><strong>Handles Complex Dependencies:</strong> Automatically mocks all constructor parameters</li>
                        <li><strong>Cleaner Tests:</strong> Focus on the specific mocks you need to configure</li>
                        <li><strong>Maintainable:</strong> Adding new dependencies doesn't break existing tests</li>
                    </ul>

                    <div class="comparison">
                        <h4>Manual Mocking vs AutoMocker</h4>
                        
                        <div class="comparison-section">
                            <h5>❌ Without AutoMocker</h5>
                            <div class="code-example">
                                <pre><code>// Service with multiple dependencies
public class OrderService
{
    private readonly IPaymentGateway _paymentGateway;
    private readonly IInventoryService _inventoryService;
    private readonly IEmailService _emailService;
    private readonly ILoggingService _loggingService;
    
    public OrderService(IPaymentGateway paymentGateway, 
                       IInventoryService inventoryService,
                       IEmailService emailService,
                       ILoggingService loggingService) { /* ... */ }
}

// Manual test setup - lots of boilerplate
var mockPayment = new Mock&lt;IPaymentGateway&gt;();
var mockInventory = new Mock&lt;IInventoryService&gt;();
var mockEmail = new Mock&lt;IEmailService&gt;();
var mockLogging = new Mock&lt;ILoggingService&gt;();

mockInventory.Setup(x =&gt; x.IsInStock("Book")).Returns(true);
mockPayment.Setup(x =&gt; x.Charge("Book")).Returns(true);

var service = new OrderService(mockPayment.Object, 
                              mockInventory.Object,
                              mockEmail.Object, 
                              mockLogging.Object);</code></pre>
                            </div>
                        </div>

                        <div class="comparison-section">
                            <h5>✅ With AutoMocker</h5>
                            <div class="code-example">
                                <pre><code>using Moq;
using Moq.AutoMock;

// Clean test setup
var mocker = new AutoMocker();

// Only configure the mocks you care about
mocker.GetMock&lt;IInventoryService&gt;()
      .Setup(x =&gt; x.IsInStock("Book"))
      .Returns(true);

mocker.GetMock&lt;IPaymentGateway&gt;()
      .Setup(x =&gt; x.Charge("Book"))
      .Returns(true);

// AutoMocker creates and injects all dependencies
var service = mocker.CreateInstance&lt;OrderService&gt;();
var result = service.PlaceOrder("Book");

Assert.True(result);</code></pre>
                            </div>
                        </div>
                    </div>

                    <h4>AutoMocker Best Practices</h4>
                    <ul>
                        <li><strong>Use for Complex Services:</strong> Most beneficial with 3+ dependencies</li>
                        <li><strong>Configure Only What Matters:</strong> Set up only the mocks your test needs</li>
                        <li><strong>Verify Important Interactions:</strong> Use <code>mocker.GetMock&lt;T&gt;().Verify()</code> for critical calls</li>
                        <li><strong>Consider Test Readability:</strong> For simple cases, manual mocking might be clearer</li>
                    </ul>
                </div>
            </div>

            <div class="concept-card">
                <h3>Advanced Mocking Concepts</h3>
                <div class="concept-content">
                    <h4>Mock Behavior Types</h4>
                    <div class="behavior-types">
                        <div class="behavior">
                            <h5>Strict Mocks</h5>
                            <p>Throw exceptions for any unexpected method calls</p>
                            <div class="code-example">
                                <pre><code>var mock = new Mock&lt;IService&gt;(MockBehavior.Strict);
// Only explicitly set up methods can be called</code></pre>
                            </div>
                        </div>

                        <div class="behavior">
                            <h5>Loose Mocks (Default)</h5>
                            <p>Return default values for unset methods</p>
                            <div class="code-example">
                                <pre><code>var mock = new Mock&lt;IService&gt;(); // MockBehavior.Loose
// Unset methods return defaults (null, 0, false, etc.)</code></pre>
                            </div>
                        </div>
                    </div>

                    <h4>Callback and Sequence</h4>
                    <div class="code-example">
                        <pre><code>// Callback for side effects
mock.Setup(x =&gt; x.ProcessOrder(It.IsAny&lt;Order&gt;()))
    .Callback&lt;Order&gt;(order =&gt; order.Status = OrderStatus.Processing)
    .Returns(true);

// Sequential returns
mock.SetupSequence(x =&gt; x.GetNextId())
    .Returns(1)
    .Returns(2)
    .Returns(3);</code></pre>
                    </div>

                    <h4>Property Mocking</h4>
                    <div class="code-example">
                        <pre><code>// Auto-implemented property behavior
mock.SetupAllProperties();

// Specific property setup
mock.SetupProperty(x =&gt; x.Name, "Default Name");

// Property with getter/setter logic
mock.SetupGet(x =&gt; x.IsActive).Returns(true);
mock.SetupSet(x =&gt; x.IsActive = It.IsAny&lt;bool&gt;());</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Testing Best Practices</h3>
                <div class="concept-content">
                    <h4>Test Structure - AAA Pattern</h4>
                    <div class="code-example">
                        <pre><code>[Fact]
public void PlaceOrder_WhenItemInStock_ReturnsTrue()
{
    // Arrange
    var mocker = new AutoMocker();
    mocker.GetMock&lt;IInventoryService&gt;()
          .Setup(x =&gt; x.IsInStock("Book"))
          .Returns(true);
    mocker.GetMock&lt;IPaymentGateway&gt;()
          .Setup(x =&gt; x.Charge("Book"))
          .Returns(true);
    
    var service = mocker.CreateInstance&lt;OrderService&gt;();

    // Act
    var result = service.PlaceOrder("Book");

    // Assert
    Assert.True(result);
    mocker.GetMock&lt;IPaymentGateway&gt;()
          .Verify(x =&gt; x.Charge("Book"), Times.Once);
}</code></pre>
                    </div>

                    <h4>Test Naming Conventions</h4>
                    <ul>
                        <li><strong>Method_Scenario_ExpectedResult:</strong> <code>PlaceOrder_WhenItemOutOfStock_ReturnsFalse</code></li>
                        <li><strong>Should_ExpectedResult_When_Scenario:</strong> <code>Should_ReturnFalse_When_ItemOutOfStock</code></li>
                        <li><strong>Given_When_Then:</strong> <code>Given_ItemOutOfStock_When_PlaceOrder_Then_ReturnsFalse</code></li>
                    </ul>

                    <h4>Common Anti-Patterns to Avoid</h4>
                    <ul>
                        <li><strong>Over-Mocking:</strong> Don't mock value objects or simple data structures</li>
                        <li><strong>Testing Implementation Details:</strong> Test behavior, not internal method calls</li>
                        <li><strong>Complex Test Setup:</strong> If setup is complex, consider refactoring the production code</li>
                        <li><strong>Shared Test State:</strong> Each test should be independent</li>
                        <li><strong>Testing Multiple Concerns:</strong> One test should verify one behavior</li>
                    </ul>

                    <h4>Integration with Dependency Injection</h4>
                    <div class="code-example">
                        <pre><code>// Testing with DI container
public class ServiceTests
{
    private readonly ServiceCollection _services;
    private readonly ServiceProvider _provider;

    public ServiceTests()
    {
        _services = new ServiceCollection();
        _services.AddScoped&lt;OrderService&gt;();
        
        // Replace real services with mocks
        var mockPayment = new Mock&lt;IPaymentGateway&gt;();
        _services.AddScoped(_ =&gt; mockPayment.Object);
        
        _provider = _services.BuildServiceProvider();
    }

    [Fact]
    public void TestWithDI()
    {
        var service = _provider.GetService&lt;OrderService&gt;();
        // Test the service...
    }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section id="best-practices" class="topic-section">
            <h2>Best Practices & DevOps</h2>
            
            <div class="concept-card">
                <h3>Code Quality</h3>
                <ul class="best-practices-list">
                    <li><strong>Clean Code:</strong> Descriptive naming, single responsibility</li>
                    <li><strong>Error Handling:</strong> Try-catch blocks, custom exceptions, logging</li>
                    <li><strong>Unit Testing:</strong> <a href="#unit-testing-mocking">Comprehensive testing with xUnit, NUnit, and Moq framework</a></li>
                    <li><strong>Code Reviews:</strong> Peer review process, SOLID principles enforcement</li>
                </ul>
            </div>

            <div class="concept-card">
                <h3>DevOps & CI/CD</h3>
                <div class="devops-practices">
                    <div class="practice">
                        <h4>Azure DevOps Pipelines</h4>
                        <p>Automated build, test, and deployment processes</p>
                    </div>
                    <div class="practice">
                        <h4>Monitoring & Logging</h4>
                        <p>Application Insights, structured logging with Serilog</p>
                    </div>
                    <div class="practice">
                        <h4>Performance Optimization</h4>
                        <p>Profiling, query optimization, caching strategies</p>
                    </div>
                </div>
            </div>

            <div class="concept-card">
                <h3>Legacy System Maintenance</h3>
                <p>Working with 20+ year old platforms requires:</p>
                <ul>
                    <li>Careful integration between old and new components</li>
                    <li>Gradual migration strategies</li>
                    <li>Maintaining business continuity</li>
                    <li>Documentation of existing systems</li>
                    <li>Risk assessment for changes</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 .NET Interview Preparation Guide</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
